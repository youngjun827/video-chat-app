{"code":"(this[\"webpackJsonpdiscord-frontend\"]=this[\"webpackJsonpdiscord-frontend\"]||[]).push([[0],{176:function(e,t,n){},226:function(e,t){},228:function(e,t){},236:function(e,t,n){},237:function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n.n(r),c=n(46),i=n.n(c),o=(n(176),n(61)),s=n(19),l=n(4),u=n(9),d=n(302),j=n(283),b=n(1),h=Object(j.a)(\"div\")({width:\"100%\",height:\"100vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",background:\"#67063c\"}),O=function(e){return Object(b.jsx)(h,{children:Object(b.jsx)(d.a,{sx:{width:700,height:400,bgcolor:\"#1B1B1B\",borderRadius:\"5px\",boxShadow:\"0 2px 10px 0 rgb(0 0 0 / 20%)\",display:\"flex\",flexDirection:\"column\",padding:\"25px\"},children:e.children})})},p=n(301),f=function(e){var t=e.label,n=e.additionalStyles,r=e.disabled,a=e.onClick;return Object(b.jsx)(p.a,{variant:\"contained\",sx:{bgcolor:\"#67063c\",color:\"#FFFFFF\",textTransform:\"none\",fontSize:\"16px\",fontWeight:500,width:\"100%\",height:\"40px\"},style:n||{},disabled:r,onClick:a,children:t})},x=n(246),m=Object(j.a)(\"span\")({color:\"#e910a7\",fontWeight:500,cursor:\"pointer\"}),v=function(e){var t=e.text,n=e.redirectText,r=e.additionalStyles,a=e.redirectHandler;return Object(b.jsxs)(x.a,{sx:{color:\"#72767d\"},style:r||{},variant:\"subtitle2\",children:[t,Object(b.jsx)(m,{onClick:a,children:n})]})},g=n(294),S=function(e){var t=e.handleLogin,n=e.isFormValid,r=Object(s.g)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g.a,{title:n?\"Press to log in!\":\"Enter correct e-mail address and password should contains between 6 and 12 characters\",children:Object(b.jsx)(\"div\",{children:Object(b.jsx)(f,{label:\"Log in\",additionalStyles:{marginTop:\"30px\",backgroundColor:\"#67063c\"},disabled:!n,onClick:t})})}),Object(b.jsx)(v,{text:\"Need an account? \",redirectText:\"Create an account\",additionalStyles:{marginTop:\"5px\"},redirectHandler:function(){r.push(\"/register\")}})]})},y=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x.a,{variant:\"h5\",sx:{color:\"#FFFFFF\"},children:\"Welcome Back!\"}),Object(b.jsx)(x.a,{sx:{color:\"#E1E1E1\"},children:\"We are happy that you are with us!\"})]})},w=Object(j.a)(\"div\")({display:\"flex\",justifyContent:\"center\",flexDirection:\"column\",width:\"100%\"}),E=Object(j.a)(\"p\")({color:\"#E1E1E1\",textTransform:\"uppercase\",fontWeight:\"600\",fontSize:\"16px\"}),C=Object(j.a)(\"input\")({flexGrow:1,height:\"40px\",border:\"1px solid black\",borderRadius:\"5px\",color:\"#E1E1E1\",background:\"#141414\",margin:0,fontSize:\"16px\",padding:\"0 5px\"}),I=function(e){var t=e.value,n=e.setValue,r=e.label,a=e.type,c=e.placeholder;return Object(b.jsxs)(w,{children:[Object(b.jsx)(E,{children:r}),Object(b.jsx)(C,{value:t,onChange:function(e){n(e.target.value)},type:a,placeholder:c})]})},k=function(e){var t=e.mail,n=e.setMail,r=e.password,a=e.setPassword;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(I,{value:t,setValue:n,label:\"E-mail\",type:\"text\",placeholder:\"Enter e-mail address\"}),Object(b.jsx)(I,{value:r,setValue:a,label:\"Password\",type:\"password\",placeholder:\"Enter password\"})]})},T=function(e){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/.test(e)},R=function(e){return e.length>5&&e.length<13},D=function(e){return e.length>2&&e.length<13},A=n(16),F=n(17),_=n(29),U=n(135),M=function(){localStorage.clear(),window.location.pathname=\"/login\"},L=n.n(U).a.create({baseURL:\"https://youngjun-video-chat-app.herokuapp.com/\"});L.interceptors.request.use((function(e){var t=localStorage.getItem(\"user\");if(t){var n=JSON.parse(t).token;e.headers.Authorization=\"Bearer \".concat(n)}return e}),(function(e){return Promise.reject(e)}));var N=function(){var e=Object(_.a)(Object(F.a)().mark((function e(t){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post(\"/auth/login\",t);case 3:return e.abrupt(\"return\",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt(\"return\",{error:!0,exception:e.t0});case 9:case\"end\":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(_.a)(Object(F.a)().mark((function e(t){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post(\"/auth/register\",t);case 3:return e.abrupt(\"return\",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt(\"return\",{error:!0,exception:e.t0});case 9:case\"end\":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(_.a)(Object(F.a)().mark((function e(t){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post(\"/friend-invitation/invite\",t);case 3:return e.abrupt(\"return\",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),H(e.t0),e.abrupt(\"return\",{error:!0,exception:e.t0});case 10:case\"end\":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(_.a)(Object(F.a)().mark((function e(t){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post(\"/friend-invitation/accept\",t);case 3:return e.abrupt(\"return\",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),H(e.t0),e.abrupt(\"return\",{error:!0,exception:e.t0});case 10:case\"end\":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(_.a)(Object(F.a)().mark((function e(t){return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post(\"/friend-invitation/reject\",t);case 3:return e.abrupt(\"return\",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),H(e.t0),e.abrupt(\"return\",{error:!0,exception:e.t0});case 10:case\"end\":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),H=function(e){var t,n=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status;n&&(401===n||403===n)&&M()},G={OPEN_ALERT_MESSAGE:\"ALERT.OPEN_ALERT_MESSAGE\",CLOSE_ALERT_MESSAGE:\"ALERT.CLOSE_ALERT_MESSAGE\"},J=function(e){return{type:G.OPEN_ALERT_MESSAGE,content:e}},V=function(){return{type:G.CLOSE_ALERT_MESSAGE}},Y=G,Z=\"AUTH.SET_USER_DETAILS\",$=function(e){return{login:function(t,n){return e(K(t,n))},register:function(t,n){return e(Q(t,n))},setUserDetails:function(t){return e(q(t))}}},q=function(e){return{type:Z,userDetails:e}},K=function(e,t){return function(){var n=Object(_.a)(Object(F.a)().mark((function n(r){var a,c,i,o,s;return Object(F.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N(e);case 2:a=n.sent,console.log(a),a.error?r(J(null===a||void 0===a||null===(c=a.exception)||void 0===c||null===(i=c.response)||void 0===i?void 0:i.data)):(o=null===a||void 0===a?void 0:a.data,s=o.userDetails,localStorage.setItem(\"user\",JSON.stringify(s)),r(q(s)),t.push(\"/dashboard\"));case 5:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Q=function(e,t){return function(){var n=Object(_.a)(Object(F.a)().mark((function n(r){var a,c,i,o,s;return Object(F.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W(e);case 2:a=n.sent,console.log(a),a.error?r(J(null===a||void 0===a||null===(c=a.exception)||void 0===c||null===(i=c.response)||void 0===i?void 0:i.data)):(o=null===a||void 0===a?void 0:a.data,s=o.userDetails,localStorage.setItem(\"user\",JSON.stringify(s)),r(q(s)),t.push(\"/dashboard\"));case 5:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},X=Object(A.b)(null,(function(e){return Object(l.a)({},$(e))}))((function(e){var t=e.login,n=Object(s.g)(),a=Object(r.useState)(\"\"),c=Object(u.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)(\"\"),d=Object(u.a)(l,2),j=d[0],h=d[1],p=Object(r.useState)(!1),f=Object(u.a)(p,2),x=f[0],m=f[1];Object(r.useEffect)((function(){m(function(e){var t=e.mail,n=e.password,r=T(t),a=R(n);return r&&a}({mail:i,password:j}))}),[i,j,m]);return Object(b.jsxs)(O,{children:[Object(b.jsx)(y,{}),Object(b.jsx)(k,{mail:i,setMail:o,password:j,setPassword:h}),Object(b.jsx)(S,{isFormValid:x,handleLogin:function(){t({mail:i,password:j},n)}})]})})),ee=function(e){var t=e.mail,n=e.setMail,r=e.username,a=e.setUsername,c=e.password,i=e.setPassword;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(I,{value:t,setValue:n,label:\"E-mail address\",type:\"text\",placeholder:\"Enter e-mail address\"}),Object(b.jsx)(I,{value:r,setValue:a,label:\"Username\",type:\"text\",placeholder:\"Enter a username\"}),Object(b.jsx)(I,{value:c,setValue:i,label:\"Password\",type:\"password\",placeholder:\"Enter password\"})]})},te=function(e){var t=e.handleRegister,n=e.isFormValid,r=Object(s.g)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g.a,{title:n?\"Press to register!\":\"Username should contains between 3 and 12 characters and password should contains between 6 and 12 character. Also correct e-mail address should provided\",children:Object(b.jsx)(\"div\",{children:Object(b.jsx)(f,{label:\"Register\",additionalStyles:{marginTop:\"30px\"},disabled:!n,onClick:t})})}),Object(b.jsx)(v,{text:\"\",redirectText:\"Already have an account ?\",additionalStyles:{marginTop:\"5px\"},redirectHandler:function(){r.push(\"/login\")}})]})},ne=Object(A.b)(null,(function(e){return Object(l.a)({},$(e))}))((function(e){var t=e.register,n=Object(s.g)(),a=Object(r.useState)(\"\"),c=Object(u.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)(\"\"),d=Object(u.a)(l,2),j=d[0],h=d[1],p=Object(r.useState)(\"\"),f=Object(u.a)(p,2),m=f[0],v=f[1],g=Object(r.useState)(!1),S=Object(u.a)(g,2),y=S[0],w=S[1];return Object(r.useEffect)((function(){w(function(e){var t=e.mail,n=e.password,r=e.username;return T(t)&&R(n)&&D(r)}({mail:i,username:j,password:m}))}),[i,j,m,w]),Object(b.jsxs)(O,{children:[Object(b.jsx)(x.a,{variant:\"h5\",sx:{color:\"white \"},children:\"Create an account\"}),Object(b.jsx)(ee,{mail:i,setMail:o,username:j,setUsername:h,password:m,setPassword:v}),Object(b.jsx)(te,{handleRegister:function(){t({mail:i,password:m,username:j},n)},isFormValid:y})]})})),re=n.p+\"static/media/JOO_white.fdb1b01c.png\",ae=function(){return Object(b.jsx)(p.a,{style:{width:\"48px\",height:\"48px\",borderRadius:\"16px\",margin:0,padding:0,minWidth:0,marginTop:\"10px\",color:\"white\",backgroundColor:\"#67063c\"},children:Object(b.jsx)(\"img\",{src:re,style:{width:\"35px\"}})})},ce=n(140),ie=n.n(ce),oe=n(136),se=n(78),le=n(137),ue={userDetails:null},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;return t.type===Z?Object(l.a)(Object(l.a)({},e),{},{userDetails:t.userDetails}):e},je={showAlertMessage:!1,alertMessageContent:null},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.OPEN_ALERT_MESSAGE:return Object(l.a)(Object(l.a)({},e),{},{showAlertMessage:!0,alertMessageContent:t.content});case Y.CLOSE_ALERT_MESSAGE:return Object(l.a)(Object(l.a)({},e),{},{showAlertMessage:!1,alertMessageContent:null});default:return e}},he=\"FRIENDS.SET_FRIENDS\",Oe=\"FRIENDS.SET_PENDING_FRIENDS_INVITATIONS\",pe=\"FRIENDS.SET_ONLINE_USERS\",fe=function(e){return{sendFriendInvitation:function(t,n){return e(xe(t,n))},acceptFriendInvitation:function(t){return e(me(t))},rejectFriendInvitation:function(t){return e(ve(t))}}},xe=function(e,t){return function(){var n=Object(_.a)(Object(F.a)().mark((function n(r){var a,c,i;return Object(F.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P(e);case 2:(a=n.sent).error?r(J(null===(c=a.exception)||void 0===c||null===(i=c.response)||void 0===i?void 0:i.data)):(r(J(\"Invitation has been sent!\")),t());case 4:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},me=function(e){return function(){var t=Object(_.a)(Object(F.a)().mark((function t(n){var r,a,c;return Object(F.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e);case 2:(r=t.sent).error?n(J(null===(a=r.exception)||void 0===a||null===(c=a.response)||void 0===c?void 0:c.data)):n(J(\"Invitation accepted!\"));case 4:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(_.a)(Object(F.a)().mark((function t(n){var r,a,c;return Object(F.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:(r=t.sent).error?n(J(null===(a=r.exception)||void 0===a||null===(c=a.response)||void 0===c?void 0:c.data)):n(J(\"Invitation rejected!\"));case 4:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ge={friends:[],pendingFriendsInvitations:[],onlineUsers:[]},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(l.a)(Object(l.a)({},e),{},{pendingFriendsInvitations:t.pendingFriendsInvitations});case he:return Object(l.a)(Object(l.a)({},e),{},{friends:t.friends});case pe:return Object(l.a)(Object(l.a)({},e),{},{onlineUsers:t.onlineUsers});default:return e}},ye=\"DIRECT\",we=\"CHAT.SET_CHOSEN_CHAT_DETAILS\",Ee=\"CHAT.SET_MESSAGES\",Ce=function(e,t){return{type:we,chatType:t,chatDetails:e}},Ie={chosenChatDetails:null,chatType:null,messages:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return Object(l.a)(Object(l.a)({},e),{},{chosenChatDetails:t.chatDetails,chatType:t.chatType,messages:[]});case Ee:return Object(l.a)(Object(l.a)({},e),{},{messages:t.messages});default:return e}},Te=\"ROOM.OPEN_ROOM\",Re=\"ROOM.SET_ROOM_DETAILS\",De=\"ROOM.SET_ACTIVE_ROOMS\",Ae=\"ROOM.SET_LOCAL_STREAM\",Fe=\"ROOM.SET_REMOTE_STREAMS\",_e=\"ROOM.SET_AUDIO_ONLY\",Ue=\"ROOM.SET_SCREEN_SHARE_STREAM\",Me=\"ROOM.SET_IS_USER_JOINED_WITH_ONLY_AUDIO\",Le=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:Te,isUserRoomCreator:e,isUserInRoom:t}},Ne=function(e){return{setAudioOnly:function(t){return e(ze(t))},setScreenSharingStream:function(t){e(He(t))}}},We=function(e){return{type:Re,roomDetails:e}},Pe=function(e){return{type:Ae,localStream:e}},ze=function(e){return{type:_e,audioOnly:e}},Be=function(e){return{type:Fe,remoteStreams:e}},He=function(e){return{type:Ue,isScreenSharingActive:!!e,screenSharingStream:e||null}},Ge=function(e){return{type:Me,isUserJoinedWithOnlyAudio:e}},Je={isUserInRoom:!1,isUserRoomCreator:!1,roomDetails:null,activeRooms:[],localStream:null,remoteStreams:[],audioOnly:!1,screenSharingStream:null,isScreenSharingActive:!1,isUserJoinedWithOnlyAudio:!1},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(l.a)(Object(l.a)({},e),{},{isUserInRoom:t.isUserInRoom,isUserRoomCreator:t.isUserRoomCreator});case Re:return Object(l.a)(Object(l.a)({},e),{},{roomDetails:t.roomDetails});case De:return Object(l.a)(Object(l.a)({},e),{},{activeRooms:t.activeRooms});case Ae:return Object(l.a)(Object(l.a)({},e),{},{localStream:t.localStream});case _e:return Object(l.a)(Object(l.a)({},e),{},{audioOnly:t.audioOnly});case Fe:return Object(l.a)(Object(l.a)({},e),{},{remoteStreams:t.remoteStreams});case Ue:return Object(l.a)(Object(l.a)({},e),{},{screenSharingStream:t.screenSharingStream,isScreenSharingActive:t.isScreenSharingActive});case Me:return Object(l.a)(Object(l.a)({},e),{},{isUserJoinedWithOnlyAudio:t.isUserJoinedWithOnlyAudio});default:return e}},Ye=Object(se.combineReducers)({auth:de,alert:be,friends:Se,chat:ke,room:Ve}),Ze=Object(se.createStore)(Ye,Object(oe.composeWithDevTools)(Object(se.applyMiddleware)(le.a))),$e=n(154),qe=function(e){var t=e.participants,n=e.usersInCoversation,r=e.messages;t.every((function(e){return n.includes(e)}))&&Ze.dispatch(function(e){return{type:Ee,messages:e}}(r))},Ke=n(28),Qe=n(139),Xe=n.n(Qe),et={audio:!0,video:!1},tt={video:!0,audio:!0},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=e?et:tt;navigator.mediaDevices.getUserMedia(n).then((function(e){Ze.dispatch(Pe(e)),t()})).catch((function(e){console.log(e),console.log(\"Cannot get an access to local stream\")}))},rt={},at=function(e,t){var n=Ze.getState().room.localStream;t?console.log(\"preparing new peer connection as initiator\"):console.log(\"preparing new peer connection as not initiator\"),rt[e]=new Xe.a({initiator:t,config:(console.warn(\"Using only STUN server\"),{iceServers:[{urls:\"stun:stun.l.google.com:19302\"}]}),stream:n}),rt[e].on(\"signal\",(function(t){lt({signal:t,connUserSocketId:e})})),rt[e].on(\"stream\",(function(t){console.log(\"remote stream came from other user\"),console.log(\"direct connection has been established\"),t.connUserSocketId=e,ct(t)}))},ct=function(e){var t=Ze.getState().room.remoteStreams,n=[].concat(Object(Ke.a)(t),[e]);Ze.dispatch(Be(n))},it=function(e){for(var t in rt)for(var n in rt[t].streams[0].getTracks())for(var r in e.getTracks())if(rt[t].streams[0].getTracks()[n].kind===e.getTracks()[r].kind){rt[t].replaceTrack(rt[t].streams[0].getTracks()[n],e.getTracks()[r],rt[t].streams[0]);break}},ot=null,st=function(e){var t=e.token;(ot=Object($e.a)(\"http://localhost:5002\",{auth:{token:t}})).on(\"connect\",(function(){console.log(\"succesfully connected with socket.io server\"),console.log(ot.id)})),ot.on(\"friends-invitations\",(function(e){var t=e.pendingInvitations;Ze.dispatch({type:Oe,pendingFriendsInvitations:t})})),ot.on(\"friends-list\",(function(e){var t=e.friends;Ze.dispatch(function(e){return{type:he,friends:e}}(t))})),ot.on(\"online-users\",(function(e){var t=e.onlineUsers;Ze.dispatch(function(e){return{type:pe,onlineUsers:e}}(t))})),ot.on(\"direct-chat-history\",(function(e){console.log(e),function(e){var t,n=e.participants,r=e.messages,a=null===(t=Ze.getState().chat.chosenChatDetails)||void 0===t?void 0:t.id,c=Ze.getState().auth.userDetails._id;a&&c&&qe({participants:n,usersInCoversation:[a,c],messages:r})}(e)})),ot.on(\"room-create\",(function(e){dt(e)})),ot.on(\"active-rooms\",(function(e){jt(e)})),ot.on(\"conn-prepare\",(function(e){var t=e.connUserSocketId;at(t,!1),ot.emit(\"conn-init\",{connUserSocketId:t})})),ot.on(\"conn-init\",(function(e){var t=e.connUserSocketId;at(t,!0)})),ot.on(\"conn-signal\",(function(e){!function(e){var t=e.connUserSocketId,n=e.signal;rt[t]&&rt[t].signal(n)}(e)})),ot.on(\"room-participant-left\",(function(e){console.log(\"user left room\"),function(e){var t=e.connUserSocketId;rt[t]&&(rt[t].destroy(),delete rt[t]);var n=Ze.getState().room.remoteStreams.filter((function(e){return e.connUserSocketId!==t}));Ze.dispatch(Be(n))}(e)}))},lt=function(e){ot.emit(\"conn-signal\",e)},ut=function(){var e=Ze.getState().room.audioOnly;nt(e,(function(){Ze.dispatch(Le(!0,!0));var e=Ze.getState().room.audioOnly;Ze.dispatch(Ge(e)),ot.emit(\"room-create\")}))},dt=function(e){var t=e.roomDetails;Ze.dispatch(We(t))},jt=function(e){var t,n=e.activeRooms,r=Ze.getState().friends.friends,a=[],c=null===(t=Ze.getState().auth.userDetails)||void 0===t?void 0:t._id;n.forEach((function(e){e.roomCreator.userId===c?a.push(Object(l.a)(Object(l.a)({},e),{},{creatorUsername:\"Me\"})):r.forEach((function(t){t.id===e.roomCreator.userId&&a.push(Object(l.a)(Object(l.a)({},e),{},{creatorUsername:t.username}))}))})),Ze.dispatch(function(e){return{type:De,activeRooms:e}}(a))},bt=function(e){var t=Ze.getState().room.audioOnly;nt(t,(function(){Ze.dispatch(We({roomId:e})),Ze.dispatch(Le(!1,!0));var t,n=Ze.getState().room.audioOnly;Ze.dispatch(Ge(n)),t={roomId:e},ot.emit(\"room-join\",t)}))},ht=function(){var e=Ze.getState().room.roomDetails.roomId,t=Ze.getState().room.localStream;t&&(t.getTracks().forEach((function(e){return e.stop()})),Ze.dispatch(Pe(null)));var n,r=Ze.getState().room.screenSharingStream;r&&(r.getTracks().forEach((function(e){return e.stop()})),Ze.dispatch(He(null))),Ze.dispatch(Be([])),Object.entries(rt).forEach((function(e){var t=e[0];rt[t]&&(rt[t].destroy(),delete rt[t])})),n={roomId:e},ot.emit(\"room-leave\",n),Ze.dispatch(We(null)),Ze.dispatch(Le(!1,!1))},Ot=function(e){var t=e.isUserInRoom;return Object(b.jsx)(p.a,{disabled:t,onClick:function(){ut()},style:{width:\"48px\",height:\"48px\",borderRadius:\"16px\",margin:0,padding:0,minWidth:0,marginTop:\"10px\",color:\"white\",backgroundColor:\"#67063c\"},children:Object(b.jsx)(ie.a,{})})},pt=Object(j.a)(\"div\")({height:\"42px\",width:\"42px\",backgroundColor:\"#67063c\",borderRadius:\"42px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:\"20px\",fontWeight:\"700\",color:\"white\"}),ft=function(e){var t=e.username,n=e.large;return Object(b.jsx)(pt,{style:n?{height:\"80px\",width:\"80px\"}:{},children:t.substring(0,2)})},xt=function(e){var t=e.creatorUsername,n=e.roomId,r=e.amountOfParticipants,a=e.isUserInRoom,c=r>3,i=\"Cretor: \".concat(t,\". Connected: \").concat(r);return Object(b.jsx)(g.a,{title:i,children:Object(b.jsx)(\"div\",{children:Object(b.jsx)(p.a,{style:{width:\"48px\",height:\"48px\",borderRadius:\"16px\",margin:0,padding:0,minWidth:0,marginTop:\"10px\",color:\"white\",backgroundColor:\"#67063c\"},disabled:c||a,onClick:function(){r<4&&bt(n)},children:Object(b.jsx)(ft,{username:t})})})})},mt=Object(j.a)(\"div\")({width:\"72px\",height:\"100%\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",backgroundColor:\"#000000\"}),vt=Object(A.b)((function(e){var t=e.room;return Object(l.a)({},t)}))((function(e){var t=e.activeRooms,n=e.isUserInRoom;return Object(b.jsxs)(mt,{children:[Object(b.jsx)(ae,{}),Object(b.jsx)(Ot,{stlye:{backgroundColor:\"#67063c\"},isUserInRoom:n}),t.map((function(e){return Object(b.jsx)(xt,{roomId:e.roomId,creatorUsername:e.creatorUsername,amountOfParticipants:e.participants.length,isUserInRoom:n,style:{backgroundColor:\"#5865f2\"}},e.roomId)}))]})})),gt=n(303),St=n(293),yt=n(308),wt=n(306),Et=n(307),Ct=Object(A.b)(null,(function(e){return Object(l.a)({},fe(e))}))((function(e){var t=e.isDialogOpen,n=e.closeDialogHandler,a=e.sendFriendInvitation,c=void 0===a?function(){}:a,i=Object(r.useState)(\"\"),o=Object(u.a)(i,2),s=o[0],l=o[1],d=Object(r.useState)(\"\"),j=Object(u.a)(d,2),h=j[0],O=j[1],p=function(){n(),l(\"\")};return Object(r.useEffect)((function(){O(T(s))}),[s,O]),Object(b.jsx)(\"div\",{children:Object(b.jsxs)(gt.a,{open:t,onClose:p,children:[Object(b.jsx)(St.a,{children:Object(b.jsx)(x.a,{children:\"Invite a Friend\"})}),Object(b.jsxs)(wt.a,{children:[Object(b.jsx)(Et.a,{children:Object(b.jsx)(x.a,{children:\"Enter e-mail address of friend which you would like to invite\"})}),Object(b.jsx)(I,{label:\"Mail\",type:\"text\",value:s,setValue:l,placeholder:\"Enter mail address\"})]}),Object(b.jsx)(yt.a,{children:Object(b.jsx)(f,{onClick:function(){c({targetMailAddress:s},p)},disabled:!h,label:\"Send\",additionalStyles:{marginLeft:\"15px\",marginRight:\"15px\",marginBottom:\"10px\"}})})]})})})),It={marginTop:\"10px\",marginLeft:\"5px\",width:\"80%\",height:\"30px\",background:\"#3ba55d\"},kt=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{additionalStyles:It,label:\"Add Friend\",onClick:function(){a(!0)}}),Object(b.jsx)(Ct,{isDialogOpen:n,closeDialogHandler:function(){a(!1)}})]})},Tt=function(e){var t=e.title;return Object(b.jsx)(x.a,{sx:{textTransform:\"uppercase\",color:\"#E1E1E1\",fontSize:\"14px\",marginTop:\"10px\"},children:t})},Rt=n(141),Dt=n.n(Rt),At=function(){return Object(b.jsx)(d.a,{sx:{color:\"#3ba55d\",display:\"flex\",alignItems:\"center\",position:\"absolute\",right:\"5px\"},children:Object(b.jsx)(Dt.a,{})})},Ft=Object(A.b)(null,(function(e){return Object(l.a)({},function(e){return{setChosenChatDetails:function(t,n){return e(Ce(t,n))}}}(e))}))((function(e){var t=e.id,n=e.username,r=e.isOnline,a=e.setChosenChatDetails;return Object(b.jsxs)(p.a,{onClick:function(){a({id:t,name:n},ye)},style:{width:\"100%\",height:\"42px\",marginTop:\"10px\",display:\"flex\",alignItems:\"center\",justifyContent:\"flex-start\",textTransform:\"none\",color:\"#F3F3F3\",position:\"relative\"},children:[Object(b.jsx)(ft,{username:n}),Object(b.jsx)(x.a,{style:{marginLeft:\"7px\",fontWeight:700,color:\"#E1E1E1\"},variant:\"subtitle1\",align:\"left\",children:n}),r&&Object(b.jsx)(At,{})]})})),_t=Object(j.a)(\"div\")({flexGrow:1,width:\"100%\"}),Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){var n=t.find((function(t){return t.userId===e.id}));e.isOnline=!!n})),e},Mt=Object(A.b)((function(e){var t=e.friends;return Object(l.a)({},t)}))((function(e){var t=e.friends,n=e.onlineUsers;return Object(b.jsx)(_t,{children:Ut(t,n).map((function(e){return Object(b.jsx)(Ft,{username:e.username,id:e.id,isOnline:e.isOnline},e.id)}))})})),Lt=n(142),Nt=n.n(Lt),Wt=n(143),Pt=n.n(Wt),zt=n(309),Bt=function(e){var t=e.disabled,n=e.acceptInvitationHandler,r=e.rejectInvitationHandler;return Object(b.jsxs)(d.a,{sx:{display:\"flex\"},children:[Object(b.jsx)(zt.a,{style:{color:\"white\"},disabled:t,onClick:n,children:Object(b.jsx)(Nt.a,{})}),Object(b.jsx)(zt.a,{style:{color:\"white\"},disabled:t,onClick:r,children:Object(b.jsx)(Pt.a,{})})]})},Ht=Object(A.b)(null,(function(e){return Object(l.a)({},fe(e))}))((function(e){var t=e.id,n=e.username,a=e.mail,c=e.acceptFriendInvitation,i=void 0===c?function(){}:c,o=e.rejectFriendInvitation,s=void 0===o?function(){}:o,l=Object(r.useState)(!1),j=Object(u.a)(l,2),h=j[0],O=j[1];return Object(b.jsx)(g.a,{title:a,children:Object(b.jsx)(\"div\",{style:{width:\"100%\"},children:Object(b.jsxs)(d.a,{sx:{width:\"100%\",height:\"42px\",marginTop:\"10px\",display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\"},children:[Object(b.jsx)(ft,{username:n}),Object(b.jsx)(x.a,{sx:{marginLeft:\"7px\",fontWeight:700,color:\"#8e9297\",flexGrow:1},variant:\"subtitle1\",children:n}),Object(b.jsx)(Bt,{disabled:h,acceptInvitationHandler:function(){console.log(t),i({id:t}),O(!0)},rejectInvitationHandler:function(){console.log(t),s({id:t}),O(!0)}})]})})})})),Gt=Object(j.a)(\"div\")({width:\"100%\",height:\"22%\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",overflow:\"auto\"}),Jt=Object(A.b)((function(e){var t=e.friends;return Object(l.a)({},t)}))((function(e){var t=e.pendingFriendsInvitations;return Object(b.jsx)(Gt,{children:t.map((function(e){return Object(b.jsx)(Ht,{id:e._id,username:e.senderId.username,mail:e.senderId.mail},e._id)}))})})),Vt=Object(j.a)(\"div\")({width:\"224px\",height:\"100%\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",backgroundColor:\"#141414\"}),Yt=function(){return Object(b.jsxs)(Vt,{children:[Object(b.jsx)(kt,{}),Object(b.jsx)(Tt,{title:\"Private Messages\"}),Object(b.jsx)(Mt,{}),Object(b.jsx)(Tt,{title:\"Invitations\"}),Object(b.jsx)(Jt,{})]})},Zt=Object(j.a)(\"div\")({flexGrow:1,height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}),$t=function(){return Object(b.jsx)(Zt,{children:Object(b.jsx)(x.a,{variant:\"h6\",sx:{color:\"#FFFFFF\"},children:\"To start chatting - choose conversation\"})})},qt=Object(j.a)(\"div\")({width:\"98%\",display:\"column\",marginTop:\"10px\"}),Kt=function(e){var t=e.name,n=void 0===t?\"\":t;return Object(b.jsxs)(qt,{children:[Object(b.jsx)(ft,{large:!0,username:n}),Object(b.jsx)(x.a,{variant:\"h4\",sx:{fontWeight:\"bold\",color:\"white\",marginLeft:\"5px\",marginRight:\"5px\"},children:n}),Object(b.jsxs)(x.a,{sx:{color:\"#b9bbbe\",marginLeft:\"5px\",marginRight:\"5px\"},children:[\"This is the beginning of your conversation with \",n]})]})},Qt=Object(j.a)(\"div\")({width:\"97%\",display:\"flex\",marginTop:\"10px\"}),Xt=Object(j.a)(\"div\")({width:\"70px\"}),en=Object(j.a)(\"div\")({display:\"flex\",flexDirection:\"column\"}),tn=Object(j.a)(\"div\")({color:\"#DCDDDE\"}),nn=Object(j.a)(\"div\")({color:\"#DCDDDE\",width:\"97%\"}),rn=Object(j.a)(\"span\")({marginLeft:\"70px\"}),an=function(e){var t=e.content,n=e.sameAuthor,r=e.username,a=e.date,c=e.sameDay;return n&&c?Object(b.jsx)(nn,{children:Object(b.jsx)(rn,{children:t})}):Object(b.jsxs)(Qt,{children:[Object(b.jsx)(Xt,{children:Object(b.jsx)(ft,{username:r})}),Object(b.jsxs)(en,{children:[Object(b.jsxs)(x.a,{style:{fontSize:\"16px\",color:\"white\"},children:[r,\" \",Object(b.jsx)(\"span\",{style:{fontSize:\"12px\",color:\"#72767d\"},children:a})]}),Object(b.jsx)(tn,{children:t})]})]})},cn=Object(j.a)(\"div\")({width:\"95%\",backgroundColor:\"#b9bbbe\",height:\"1px\",position:\"relative\",marginTop:\"20px\",marginBottom:\"10px\"}),on=Object(j.a)(\"span\")({backgroundColor:\"#36393f\",position:\"absolute\",left:\"45%\",top:\"-10px\",color:\"#b9bbbe\",padding:\"0 5px\",fontSize:\"14px\"}),sn=function(e){var t=e.date;return Object(b.jsx)(cn,{children:Object(b.jsx)(on,{children:t})})},ln=Object(j.a)(\"div\")({height:\"calc(100% - 60px)\",overflow:\"auto\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\"}),un=function(e,t){var n={mm:e.getMonth()+1,dd:e.getDate(),yy:e.getFullYear().toString().slice(-2),yyyy:e.getFullYear()};return t.replace(/mm|dd|yy|yyy/gi,(function(e){return n[e]}))},dn=Object(A.b)((function(e){var t=e.chat;return Object(l.a)({},t)}))((function(e){var t=e.chosenChatDetails,n=e.messages;return Object(b.jsxs)(ln,{children:[Object(b.jsx)(Kt,{name:null===t||void 0===t?void 0:t.name}),n.map((function(e,t){var r=t>0&&n[t].author._id===n[t-1].author._id,a=t>0&&un(new Date(e.date),\"dd/mm/yy\")===un(new Date(n[t-1].date),\"dd/mm/yy\");return Object(b.jsxs)(\"div\",{style:{width:\"97%\"},children:[(!a||0===t)&&Object(b.jsx)(sn,{date:un(new Date(e.date),\"dd/mm/yy\")}),Object(b.jsx)(an,{content:e.content,username:e.author.username,sameAuthor:r,date:un(new Date(e.date),\"dd/mm/yy\"),sameDay:a})]},e._id)}))]})})),jn=Object(j.a)(\"div\")({height:\"60px\",width:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}),bn=Object(j.a)(\"input\")({backgroundColor:\"#2f3136\",width:\"98%\",height:\"44px\",color:\"white\",border:\"none\",borderRadius:\"8px\",fontSize:\"14px\",padding:\"0 10px\"}),hn=Object(A.b)((function(e){var t=e.chat;return Object(l.a)({},t)}))((function(e){var t=e.chosenChatDetails,n=Object(r.useState)(\"\"),a=Object(u.a)(n,2),c=a[0],i=a[1],o=function(){var e;c.length>0&&(e={receiverUserId:t.id,content:c},console.log(e),ot.emit(\"direct-message\",e),i(\"\"))};return Object(b.jsx)(jn,{children:Object(b.jsx)(bn,{placeholder:\"Write message to \".concat(t.name),value:c,onChange:function(e){i(e.target.value)},onKeyDown:function(e){\"Enter\"===e.key&&o()}})})})),On=Object(j.a)(\"div\")({flexGrow:1}),pn=function(e){var t=e.chosenChatDetails;return Object(r.useEffect)((function(){var e;e={receiverUserId:t.id},ot.emit(\"direct-chat-history\",e)}),[t]),Object(b.jsxs)(On,{children:[Object(b.jsx)(dn,{}),Object(b.jsx)(hn,{})]})},fn=Object(j.a)(\"div\")({flexGrow:1,backgroundColor:\"#1B1B1B\",marginTop:\"48px\",display:\"flex\"}),xn=Object(A.b)((function(e){var t=e.chat;return Object(l.a)({},t)}))((function(e){var t=e.chosenChatDetails;return Object(b.jsx)(fn,{children:t?Object(b.jsx)(pn,{chosenChatDetails:t}):Object(b.jsx)($t,{})})})),mn=n(296),vn=n(300),gn=n(144),Sn=n.n(gn),yn=Object(A.b)((function(e){var t=e.room;return Object(l.a)({},t)}),(function(e){return Object(l.a)({},Ne(e))}))((function(e){var t=e.audioOnly,n=e.setAudioOnly,a=r.useState(null),c=Object(u.a)(a,2),i=c[0],o=c[1],s=Boolean(i);return Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(zt.a,{onClick:function(e){o(e.currentTarget)},style:{color:\"#FFFFFF\"},children:Object(b.jsx)(Sn.a,{})}),Object(b.jsxs)(mn.a,{id:\"basic-menu\",anchorEl:i,open:s,onClose:function(){o(null)},MenuListProps:{\"aria-labelledby\":\"basic-button\"},children:[Object(b.jsx)(vn.a,{onClick:M,style:{color:\"#000000\"},children:\"Logout\"}),Object(b.jsx)(vn.a,{onClick:function(){n(!t)},style:{color:\"#000000\"},children:t?\"Audio Only Enabled\":\"Audio Only Disabled\"})]})]})})),wn=Object(A.b)((function(e){var t;return{name:null===(t=e.chat.chosenChatDetails)||void 0===t?void 0:t.name}}))((function(e){var t=e.name;return Object(b.jsx)(x.a,{sx:{fontSize:\"16px\",color:\"white\",fontWeight:\"bold\"},children:\"\".concat(t?\"Chosen conversation: \".concat(t):\"\")})})),En=Object(j.a)(\"div\")({position:\"absolute\",right:\"0\",top:\"0\",height:\"48px\",borderBottom:\"1px solid black\",backgroundColor:\"#1B1B1B\",width:\"calc(100% - 326px)\",display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",padding:\"0 15px\"}),Cn=function(){return Object(b.jsxs)(En,{children:[Object(b.jsx)(wn,{}),Object(b.jsx)(yn,{})]})},In=n(146),kn=n.n(In),Tn=n(145),Rn=n.n(Tn),Dn=Object(j.a)(\"div\")({position:\"absolute\",bottom:\"3px\",right:\"3px\"}),An=function(e){var t=e.isRoomMinimized,n=e.handleRoomResize;return Object(b.jsx)(Dn,{children:Object(b.jsx)(zt.a,{style:{color:\"white\"},onClick:n,children:t?Object(b.jsx)(Rn.a,{}):Object(b.jsx)(kn.a,{})})})},Fn=Object(j.a)(\"div\")({height:\"50%\",width:\"50%\",backgroundColor:\"black\",borderRadius:\"8px\"}),_n=Object(j.a)(\"video\")({width:\"100%\",height:\"100%\"}),Un=function(e){var t=e.stream,n=e.isLocalStream,a=Object(r.useRef)();return Object(r.useEffect)((function(){var e=a.current;e.srcObject=t,e.onloadedmetadata=function(){e.play()}}),[t]),Object(b.jsx)(Fn,{children:Object(b.jsx)(_n,{ref:a,autoPlay:!0,muted:!!n})})},Mn=Object(j.a)(\"div\")({height:\"85%\",width:\"100%\",display:\"flex\",flexWrap:\"wrap\"}),Ln=Object(A.b)((function(e){var t=e.room;return Object(l.a)({},t)}))((function(e){var t=e.localStream,n=e.remoteStreams,r=e.screenSharingStream;return Object(b.jsxs)(Mn,{children:[Object(b.jsx)(Un,{stream:r||t,isLocalStream:!0}),n.map((function(e){return Object(b.jsx)(Un,{stream:e},e.id)}))]})})),Nn=n(147),Wn=n.n(Nn),Pn=n(148),zn=n.n(Pn),Bn=function(e){var t=e.localStream,n=Object(r.useState)(!0),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(b.jsx)(zt.a,{onClick:function(){t.getVideoTracks()[0].enabled=!c,i(!c)},style:{color:\"white\"},children:c?Object(b.jsx)(Wn.a,{}):Object(b.jsx)(zn.a,{})})},Hn=n(149),Gn=n.n(Hn),Jn=n(150),Vn=n.n(Jn),Yn=function(e){var t=e.localStream,n=Object(r.useState)(!0),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(b.jsx)(zt.a,{onClick:function(){t.getAudioTracks()[0].enabled=!c,i(!c)},style:{color:\"white\"},children:c?Object(b.jsx)(Gn.a,{}):Object(b.jsx)(Vn.a,{})})},Zn=n(151),$n=n.n(Zn),qn=function(){return Object(b.jsx)(zt.a,{onClick:function(){ht()},style:{color:\"white\"},children:Object(b.jsx)($n.a,{})})},Kn=n(153),Qn=n.n(Kn),Xn=n(152),er=n.n(Xn),tr={audio:!1,video:!0},nr=function(e){var t=e.localStream,n=e.screenSharingStream,r=e.setScreenSharingStream,a=e.isScreenSharingActive,c=function(){var e=Object(_.a)(Object(F.a)().mark((function e(){var c;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=14;break}return c=null,e.prev=2,e.next=5,navigator.mediaDevices.getDisplayMedia(tr);case 5:c=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(\"error occured when trying to get an access to screen share stream\");case 11:c&&(r(c),it(c)),e.next=17;break;case 14:it(t),n.getTracks().forEach((function(e){return e.stop()})),r(null);case 17:case\"end\":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(zt.a,{onClick:c,style:{color:\"white\"},children:a?Object(b.jsx)(er.a,{}):Object(b.jsx)(Qn.a,{})})},rr=Object(j.a)(\"div\")({height:\"15%\",width:\"100%\",backgroundColor:\"#67063c\",borderTopLeftRadius:\"8px\",borderTopRightRadius:\"8px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}),ar=Object(A.b)((function(e){var t=e.room;return Object(l.a)({},t)}),(function(e){return Object(l.a)({},Ne(e))}))((function(e){var t=e.localStream,n=e.isUserJoinedWithOnlyAudio;return Object(b.jsxs)(rr,{children:[!n&&Object(b.jsx)(nr,Object(l.a)({},e)),Object(b.jsx)(Yn,{localStream:t}),Object(b.jsx)(qn,{}),!n&&Object(b.jsx)(Bn,{localStream:t})]})})),cr=Object(j.a)(\"div\")({position:\"absolute\",borderRadius:\"8px\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"#141414\"}),ir={width:\"100%\",height:\"100vh\"},or={bottom:\"0px\",right:\"0px\",width:\"30%\",height:\"40vh\"},sr=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)(cr,{style:n?or:ir,children:[Object(b.jsx)(Ln,{}),Object(b.jsx)(ar,{}),Object(b.jsx)(An,{isRoomMinimized:n,handleRoomResize:function(){a(!n)}})]})},lr=Object(j.a)(\"div\")({width:\"100%\",height:\"100vh\",display:\"flex\"}),ur=Object(A.b)((function(e){var t=e.room;return Object(l.a)({},t)}),(function(e){return Object(l.a)({},$(e))}))((function(e){var t=e.setUserDetails,n=e.isUserInRoom;return Object(r.useEffect)((function(){var e=localStorage.getItem(\"user\");e?(t(JSON.parse(e)),st(JSON.parse(e))):M()}),[]),Object(b.jsxs)(lr,{children:[Object(b.jsx)(vt,{}),Object(b.jsx)(Yt,{}),Object(b.jsx)(xn,{}),Object(b.jsx)(Cn,{}),n&&Object(b.jsx)(sr,{})]})})),dr=n(297),jr=n(298),br=Object(A.b)((function(e){var t=e.alert;return Object(l.a)({},t)}),(function(e){return Object(l.a)({},function(e){return{openAlertMessage:function(t){return e(J(t))},closeAlertMessage:function(){return e(V())}}}(e))}))((function(e){var t=e.showAlertMessage,n=e.closeAlertMessage,r=e.alertMessageContent;return Object(b.jsx)(jr.a,{anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},open:t,onClose:n,autoHideDuration:6e3,children:Object(b.jsx)(dr.a,{severity:\"info\",children:r})})}));n(236);var hr=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.a,{children:Object(b.jsxs)(s.d,{children:[Object(b.jsx)(s.b,{exact:!0,path:\"/login\",children:Object(b.jsx)(X,{})}),Object(b.jsx)(s.b,{exact:!0,path:\"/register\",children:Object(b.jsx)(ne,{})}),Object(b.jsx)(s.b,{exact:!0,path:\"/dashboard\",children:Object(b.jsx)(ur,{})}),Object(b.jsx)(s.b,{path:\"/\",children:Object(b.jsx)(s.a,{to:\"/dashboard\"})})]})}),Object(b.jsx)(br,{})]})};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(A.a,{store:Ze,children:Object(b.jsx)(hr,{})})}),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[237,1,2]]]);","name":"static/js/main.06cfe9c2.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","objectSpread2","slicedToArray","Box","styled","jsx_runtime","BoxWrapper","Object","width","height","display","alignItems","justifyContent","background","components_AuthBox","props","children","sx","bgcolor","borderRadius","boxShadow","flexDirection","padding","Button","components_CustomPrimaryButton","_ref","label","additionalStyles","disabled","onClick","variant","color","textTransform","fontSize","fontWeight","style","Typography","RedirectText","cursor","components_RedirectInfo","text","redirectText","redirectHandler","Tooltip","LoginPage_LoginPageFooter","handleLogin","isFormValid","history","title","marginTop","backgroundColor","LoginPage_LoginPageHeader","Wrapper","Label","Input","flexGrow","border","margin","components_InputWithLabel","value","setValue","type","placeholder","onChange","event","target","LoginPage_LoginPageInputs","mail","setMail","password","setPassword","validateMail","test","validatePassword","length","validateUsername","username","es","regeneratorRuntime","asyncToGenerator","axios","logout","localStorage","clear","window","location","pathname","apiClient","a","create","baseURL","interceptors","request","use","config","userDetails","getItem","token","JSON","parse","headers","Authorization","concat","err","Promise","reject","api_login","mark","_callee","data","wrap","_context","prev","next","post","abrupt","sent","t0","error","exception","stop","_x","apply","arguments","api_register","_ref2","_callee2","_context2","_x2","api_sendFriendInvitation","_ref3","_callee3","_context3","api_checkResponseCode","_x3","api_acceptFriendInvitation","_ref4","_callee4","_context4","_x4","api_rejectFriendInvitation","_ref5","_callee5","_context5","_x5","_exception$response","responseCode","response","status","alertActions","OPEN_ALERT_MESSAGE","CLOSE_ALERT_MESSAGE","_openAlertMessage","content","_closeAlertMessage","actions_alertActions","authActions","authActions_getActions","dispatch","login","authActions_login","register","authActions_register","setUserDetails","_setUserDetails","_response$exception","_response$exception$r","_response$data","_userDetails","console","log","setItem","stringify","_response$exception2","_response$exception2$","_response$data2","_userDetails2","authPages_LoginPage_LoginPage","_useState","_useState2","_useState3","_useState4","_useState5","_useState6","setIsFormValid","isMailValid","isPasswordValid","validateLoginForm","RegisterPage_RegisterPageInputs","setUsername","RegisterPage_RegisterPageFooter","handleRegister","authPages_RegisterPage_RegisterPage","_useState7","_useState8","validateRegisterForm","JOO_white","p","SideBar_MainPageButton","minWidth","src","Add","Add_default","redux_devtools_extension","redux","redux_thunk_es","initState","authReducer","state","undefined","action","alertReducer_initState","showAlertMessage","alertMessageContent","alertReducer","friendsActions","friendsActions_getActions","sendFriendInvitation","closeDialogHandler","friendsActions_sendFriendInvitation","acceptFriendInvitation","friendsActions_acceptFriendInvitation","rejectFriendInvitation","friendsActions_rejectFriendInvitation","_response$exception3","_response$exception3$","friendsReducer_initState","friends","pendingFriendsInvitations","onlineUsers","friendsReducer","chatTypes","chatActions","_setChosenChatDetails","chatDetails","chatType","chatReducer_initState","chosenChatDetails","messages","chatReducer","roomActions","setOpenRoom","isUserRoomCreator","isUserInRoom","roomActions_getActions","setAudioOnly","audioOnly","_setAudioOnly","setScreenSharingStream","stream","_setScreenSharingStream","setRoomDetails","roomDetails","setLocalStream","localStream","setRemoteStreams","remoteStreams","isScreenSharingActive","screenSharingStream","setIsUserJoinedOnlyWithAudio","onlyWithAudio","isUserJoinedWithOnlyAudio","roomReducer_initState","activeRooms","roomReducer","rootReducer","auth","alert","chat","room","store_store","esm","chat_updateChatHistoryIfSameConversationActive","participants","usersInCoversation","every","participantId","includes","setMessages","toConsumableArray","simple_peer","simple_peer_default","onlyAudioConstraints","audio","video","defaultConstraints","webRTCHandler_getLocalStreamPreview","onlyAudio","callbackFunc","constraints","navigator","mediaDevices","getUserMedia","then","catch","peers","webRTCHandler_prepareNewPeerConnection","connUserSocketId","isInitiator","getState","initiator","warn","iceServers","urls","on","signalPeerData","signal","remoteStream","webRTCHandler_addNewRemoteStream","newRemoteStreams","switchOutgoingTracks","socket_id","index","streams","getTracks","index2","kind","replaceTrack","socket","socketConnection_connectWithSocketServer","jwtToken","id","pendingInvitations","setFriends","setOnlineUsers","_store$getState$chat$","receiverId","userId","_id","chat_updateDirectChatHistoryIfActive","roomHandler_newRoomCreated","roomHandler_updateActiveRooms","emit","handleSignalingData","destroy","filter","webRTCHandler_handleParticipantLeftRoom","roomHandler_createNewRoom","_store$getState$auth$","rooms","forEach","roomCreator","creatorUsername","f","setActiveRooms","roomHandler_joinRoom","roomId","roomHandler_leaveRoom","track","entries","mappedObject","SideBar_CreateRoomButton","AvatarPreview","components_Avatar","large","substring","SideBar_ActiveRoomButton","amountOfParticipants","activeRoomButtonDisabled","roomTitle","MainContainer","Dashboard_SideBar_SideBar","stlye","map","Dialog","DialogTitle","DialogActions","DialogContent","DialogContentText","FriendsSideBar_AddFriendDialog","isDialogOpen","_ref$sendFriendInvita","handleCloseDialog","open","onClose","targetMailAddress","marginLeft","marginRight","marginBottom","AddFriendButton_additionalStyles","FriendsSideBar_AddFriendButton","setIsDialogOpen","FriendsSideBar_FriendsTitle","FiberManualRecord","FiberManualRecord_default","FriendsList_OnlineIndicator","position","right","FriendsList_FriendsListItem","setChosenChatDetails","details","chatActions_getActions","isOnline","name","align","FriendsList_MainContainer","checkOnlineUsers","isUserOnline","find","user","FriendsSideBar_FriendsList_FriendsList","Check","Check_default","Clear","Clear_default","IconButton","PendingInvitationsList_InvitationDecisionButtons","acceptInvitationHandler","rejectInvitationHandler","PendingInvitationsList_PendingInvitationsListItem","_ref$acceptFriendInvi","_ref$rejectFriendInvi","buttonsDisabled","setButtonsDisabled","PendingInvitationsList_MainContainer","overflow","FriendsSideBar_PendingInvitationsList_PendingInvitationsList","invitation","senderId","FriendsSideBar_MainContainer","Dashboard_FriendsSideBar_FriendsSideBar","WelcomeMessage_Wrapper","Messenger_WelcomeMessage","MessagesHeader_MainContainer","Messages_MessagesHeader","_ref$name","Message_MainContainer","AvatarContainer","MessageContainer","MessageContent","SameAuthorMessageContent","SameAuthorMessageText","Messages_Message","sameAuthor","date","sameDay","Separator","DateLabel","left","top","Messages_DateSeparator","Messages_MainContainer","convertDateToHumanReadable","format","mm","getMonth","dd","getDate","yy","getFullYear","toString","slice","yyyy","replace","matched","Messenger_Messages_Messages","message","author","Date","NewMessageInput_MainContainer","NewMessageInput_Input","Messenger_NewMessageInput","setMessage","handleSendMessage","receiverUserId","onKeyDown","key","MessengerContent_Wrapper","Messenger_MessengerContent","Messenger_MainContainer","Dashboard_Messenger_Messenger","Menu","MenuItem","MoreVert","MoreVert_default","DropdownMenu","_React$useState","_React$useState2","anchorEl","setAnchorEl","Boolean","currentTarget","MenuListProps","AppBar_ChosenOptionLabel","_state$chat$chosenCha","AppBar_MainContainer","borderBottom","Dashboard_AppBar_AppBar","CloseFullscreen","CloseFullscreen_default","OpenInFull","OpenInFull_default","ResizeRoomButton_MainContainer","bottom","Room_ResizeRoomButton","isRoomMinimized","handleRoomResize","Video_MainContainer","VideoEl","Room_Video","isLocalStream","videoRef","current","srcObject","onloadedmetadata","play","ref","autoPlay","muted","VideosContainer_MainContainer","flexWrap","Room_VideosContainer","Videocam","Videocam_default","VideocamOff","VideocamOff_default","RoomButtons_CameraButton","cameraEnabled","setCameraEnabled","getVideoTracks","enabled","Mic","Mic_default","MicOff","MicOff_default","RoomButtons_MicButton","micEnabled","setMicEnabled","getAudioTracks","Close","Close_default","RoomButtons_CloseRoomButton","ScreenShare","ScreenShare_default","StopScreenShare","StopScreenShare_default","ScreenShareButton_constraints","RoomButtons_ScreenShareButton","handleScreenShareToggle","getDisplayMedia","t","RoomButtons_MainContainer","borderTopLeftRadius","borderTopRightRadius","Room_RoomButtons_RoomButtons","Room_MainContainer","fullScreenRoomStyle","minimizedRoomStyle","Dashboard_Room_Room","setIsRoomMinimized","Dashboard_Wrapper","src_Dashboard_Dashboard","Alert","Snackbar","components_AlertNotification","openAlertMessage","closeAlertMessage","getActions","anchorOrigin","vertical","horizontal","autoHideDuration","severity","src_App","exact","path","to","hostname","match","render","StrictMode","store","document","getElementById","serviceWorker","ready","registration","unregister"],"sources":["static/js/main.06cfe9c2.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpdiscord-frontend\"] = this[\"webpackJsonpdiscord-frontend\"] || []).push([[0],{\n\n/***/ 176:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 226:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 228:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 236:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 237:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(46);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(176);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(61);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Box/Box.js + 1 modules\nvar Box = __webpack_require__(302);\n\n// EXTERNAL MODULE: ./node_modules/@mui/system/esm/styled.js\nvar styled = __webpack_require__(283);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/shared/components/AuthBox.js\nvar BoxWrapper=Object(styled[\"a\" /* default */])(\"div\")({width:\"100%\",height:\"100vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",background:\"#67063c\"});var AuthBox_AuthBox=function AuthBox(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BoxWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:{width:700,height:400,bgcolor:\"#1B1B1B\",borderRadius:\"5px\",boxShadow:\"0 2px 10px 0 rgb(0 0 0 / 20%)\",display:\"flex\",flexDirection:\"column\",padding:\"25px\"},children:props.children})});};/* harmony default export */ var components_AuthBox = (AuthBox_AuthBox);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 2 modules\nvar Button = __webpack_require__(301);\n\n// CONCATENATED MODULE: ./src/shared/components/CustomPrimaryButton.js\nvar CustomPrimaryButton_CustomPrimaryButton=function CustomPrimaryButton(_ref){var label=_ref.label,additionalStyles=_ref.additionalStyles,disabled=_ref.disabled,onClick=_ref.onClick;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",sx:{bgcolor:\"#67063c\",color:\"#FFFFFF\",textTransform:\"none\",fontSize:\"16px\",fontWeight:500,width:\"100%\",height:\"40px\"},style:additionalStyles?additionalStyles:{}// If additional styles are assigned, use that. If not nothing happens.\n,disabled:disabled,onClick:onClick,children:label});};/* harmony default export */ var components_CustomPrimaryButton = (CustomPrimaryButton_CustomPrimaryButton);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules\nvar Typography = __webpack_require__(246);\n\n// CONCATENATED MODULE: ./src/shared/components/RedirectInfo.js\nvar RedirectText=Object(styled[\"a\" /* default */])(\"span\")({color:\"#e910a7\",fontWeight:500,cursor:\"pointer\"});var RedirectInfo_RedirectInfo=function RedirectInfo(_ref){var text=_ref.text,redirectText=_ref.redirectText,additionalStyles=_ref.additionalStyles,redirectHandler=_ref.redirectHandler;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{sx:{color:\"#72767d\"},style:additionalStyles?additionalStyles:{},variant:\"subtitle2\",children:[text,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RedirectText,{onClick:redirectHandler,children:redirectText})]});};/* harmony default export */ var components_RedirectInfo = (RedirectInfo_RedirectInfo);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Tooltip/Tooltip.js + 56 modules\nvar Tooltip = __webpack_require__(294);\n\n// CONCATENATED MODULE: ./src/authPages/LoginPage/LoginPageFooter.js\nvar getFormNotValidMessage=function getFormNotValidMessage(){return\"Enter correct e-mail address and password should contains between 6 and 12 characters\";};var getFormValidMessage=function getFormValidMessage(){return\"Press to log in!\";};var LoginPageFooter_LoginPageFooter=function LoginPageFooter(_ref){var handleLogin=_ref.handleLogin,isFormValid=_ref.isFormValid;var history=Object(react_router[\"g\" /* useHistory */])();var handlePushToRegisterPage=function handlePushToRegisterPage(){history.push(\"/register\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* default */],{title:!isFormValid?getFormNotValidMessage():getFormValidMessage(),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CustomPrimaryButton,{label:\"Log in\",additionalStyles:{marginTop:\"30px\",backgroundColor:\"#67063c\"},disabled:!isFormValid,onClick:handleLogin})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_RedirectInfo,{text:\"Need an account? \",redirectText:\"Create an account\",additionalStyles:{marginTop:\"5px\"},redirectHandler:handlePushToRegisterPage})]});};/* harmony default export */ var LoginPage_LoginPageFooter = (LoginPageFooter_LoginPageFooter);\n// CONCATENATED MODULE: ./src/authPages/LoginPage/LoginPageHeader.js\nvar LoginPageHeader_LoginPageHeader=function LoginPageHeader(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",sx:{color:\"#FFFFFF\"},children:\"Welcome Back!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{sx:{color:\"#E1E1E1\"},children:\"We are happy that you are with us!\"})]});};/* harmony default export */ var LoginPage_LoginPageHeader = (LoginPageHeader_LoginPageHeader);\n// CONCATENATED MODULE: ./src/shared/components/InputWithLabel.js\nvar Wrapper=Object(styled[\"a\" /* default */])(\"div\")({display:\"flex\",justifyContent:\"center\",flexDirection:\"column\",width:\"100%\"});var Label=Object(styled[\"a\" /* default */])(\"p\")({color:\"#E1E1E1\",textTransform:\"uppercase\",fontWeight:\"600\",fontSize:\"16px\"});var Input=Object(styled[\"a\" /* default */])(\"input\")({flexGrow:1,height:\"40px\",border:\"1px solid black\",borderRadius:\"5px\",color:\"#E1E1E1\",background:\"#141414\",margin:0,fontSize:\"16px\",padding:\"0 5px\"});var InputWithLabel_InputWithLabel=function InputWithLabel(props){var value=props.value,setValue=props.setValue,label=props.label,type=props.type,placeholder=props.placeholder;// Receive props from the LoginPageInputs\nvar handleValueChange=function handleValueChange(event){setValue(event.target.value);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Wrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label,{children:label}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input,{value:value,onChange:handleValueChange,type:type,placeholder:placeholder})]});};/* harmony default export */ var components_InputWithLabel = (InputWithLabel_InputWithLabel);\n// CONCATENATED MODULE: ./src/authPages/LoginPage/LoginPageInputs.js\nvar LoginPageInputs_LoginPageInputs=function LoginPageInputs(_ref){var mail=_ref.mail,setMail=_ref.setMail,password=_ref.password,setPassword=_ref.setPassword;// Receive the props\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_InputWithLabel// Receive props from the shared component AND the LoginPage\n,{value:mail,setValue:setMail,label:\"E-mail\",type:\"text\",placeholder:\"Enter e-mail address\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_InputWithLabel,{value:password,setValue:setPassword,label:\"Password\",type:\"password\",placeholder:\"Enter password\"})]});};/* harmony default export */ var LoginPage_LoginPageInputs = (LoginPageInputs_LoginPageInputs);\n// CONCATENATED MODULE: ./src/shared/utils/validators.js\nvar validateLoginForm=function validateLoginForm(_ref){var mail=_ref.mail,password=_ref.password;var isMailValid=validateMail(mail);var isPasswordValid=validatePassword(password);return isMailValid&&isPasswordValid;};var validateRegisterForm=function validateRegisterForm(_ref2){var mail=_ref2.mail,password=_ref2.password,username=_ref2.username;return validateMail(mail)&&validatePassword(password)&&validateUsername(username);};var validateMail=function validateMail(mail){var emailPattern=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;return emailPattern.test(mail);};var validatePassword=function validatePassword(password){return password.length>5&&password.length<13;};var validateUsername=function validateUsername(username){return username.length>2&&username.length<13;};\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 24 modules\nvar es = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(135);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/shared/utils/auth.js\nvar logout=function logout(){localStorage.clear();window.location.pathname=\"/login\";};\n// CONCATENATED MODULE: ./src/api.js\n// 6. The API exists in the \"apiClient\". This means all activities between the frontend and backend environment go through here. So, naturally, THROUGH the apiClient, the userDetails are passed to the server. **Please scroll the page down to see step 7.\nvar apiClient=axios_default.a.create({baseURL:\"https://youngjun-video-chat-app.herokuapp.com/\"// timeout: 1000,\n});apiClient.interceptors.request.use(function(config){var userDetails=localStorage.getItem(\"user\");if(userDetails){var token=JSON.parse(userDetails).token;config.headers.Authorization=\"Bearer \".concat(token);}return config;},function(err){return Promise.reject(err);});// public routes\n// 7. Here, the \"login\" function tries to POST our userDetails (data) to the \"/auth/login\" route. To check the route, we must go to our backend environment. **Please go to the \"authRoutes\" file in the backend folder to view the routing process.\nvar api_login=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(data){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return apiClient.post(\"/auth/login\",data);case 3:return _context.abrupt(\"return\",_context.sent);case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",{error:true,exception:_context.t0});case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function login(_x){return _ref.apply(this,arguments);};}();var api_register=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(data){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return apiClient.post(\"/auth/register\",data);case 3:return _context2.abrupt(\"return\",_context2.sent);case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",{error:true,exception:_context2.t0});case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function register(_x2){return _ref2.apply(this,arguments);};}();// secure routes\nvar api_sendFriendInvitation=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee3(data){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return apiClient.post(\"/friend-invitation/invite\",data);case 3:return _context3.abrupt(\"return\",_context3.sent);case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);api_checkResponseCode(_context3.t0);return _context3.abrupt(\"return\",{error:true,exception:_context3.t0});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function sendFriendInvitation(_x3){return _ref3.apply(this,arguments);};}();var api_acceptFriendInvitation=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee4(data){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return apiClient.post(\"/friend-invitation/accept\",data);case 3:return _context4.abrupt(\"return\",_context4.sent);case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);api_checkResponseCode(_context4.t0);return _context4.abrupt(\"return\",{error:true,exception:_context4.t0});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,6]]);}));return function acceptFriendInvitation(_x4){return _ref4.apply(this,arguments);};}();var api_rejectFriendInvitation=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee5(data){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return apiClient.post(\"/friend-invitation/reject\",data);case 3:return _context5.abrupt(\"return\",_context5.sent);case 6:_context5.prev=6;_context5.t0=_context5[\"catch\"](0);api_checkResponseCode(_context5.t0);return _context5.abrupt(\"return\",{error:true,exception:_context5.t0});case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,6]]);}));return function rejectFriendInvitation(_x5){return _ref5.apply(this,arguments);};}();var api_checkResponseCode=function checkResponseCode(exception){var _exception$response;var responseCode=exception===null||exception===void 0?void 0:(_exception$response=exception.response)===null||_exception$response===void 0?void 0:_exception$response.status;if(responseCode){(responseCode===401||responseCode===403)&&logout();}};\n// CONCATENATED MODULE: ./src/store/actions/alertActions.js\nvar alertActions={OPEN_ALERT_MESSAGE:\"ALERT.OPEN_ALERT_MESSAGE\",CLOSE_ALERT_MESSAGE:\"ALERT.CLOSE_ALERT_MESSAGE\"};var getActions=function getActions(dispatch){return{openAlertMessage:function openAlertMessage(content){return dispatch(_openAlertMessage(content));},closeAlertMessage:function closeAlertMessage(){return dispatch(_closeAlertMessage());}};};var _openAlertMessage=function _openAlertMessage(content){return{type:alertActions.OPEN_ALERT_MESSAGE,content:content};};var _closeAlertMessage=function _closeAlertMessage(){return{type:alertActions.CLOSE_ALERT_MESSAGE};};/* harmony default export */ var actions_alertActions = (alertActions);\n// CONCATENATED MODULE: ./src/store/actions/authActions.js\nvar authActions={SET_USER_DETAILS:\"AUTH.SET_USER_DETAILS\"};var authActions_getActions=function getActions(dispatch){return{// And tadah! the login function is here.\n// 4. The login function uses the userDetails (userDetails, history) to execute Redux's dispatch method. **Please scroll the page down to view step.5\nlogin:function login(userDetails,history){return dispatch(authActions_login(userDetails,history));},register:function register(userDetails,history){return dispatch(authActions_register(userDetails,history));},setUserDetails:function setUserDetails(userDetails){return dispatch(_setUserDetails(userDetails));}};};var _setUserDetails=function _setUserDetails(userDetails){// 21. Here, the setUserDetails function will send the current STATE and the userDetails to the authReducer. **Please reference the \"authReducer.js\" file\nreturn{type:authActions.SET_USER_DETAILS,userDetails:userDetails};};// the login function\nvar authActions_login=function _login(userDetails,history){return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(dispatch){var response,_response$exception,_response$exception$r,_response$data,_userDetails;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api_login(userDetails);case 2:response=_context.sent;console.log(response);// If there is an error show the Alert Messages\nif(response.error){dispatch(_openAlertMessage(response===null||response===void 0?void 0:(_response$exception=response.exception)===null||_response$exception===void 0?void 0:(_response$exception$r=_response$exception.response)===null||_response$exception$r===void 0?void 0:_response$exception$r.data));}else{// 18. The updated user details from the backend server are assigned to userDetails.\n_response$data=response===null||response===void 0?void 0:response.data,_userDetails=_response$data.userDetails;//  19. then the userDetails get STORED at the localStorage of the browser. Why? Check my blog on my website about localStorage and its functionality ;)\nlocalStorage.setItem(\"user\",JSON.stringify(_userDetails));// 20. Thanks to the redux-thunk, the dispatch method can be used at the \"setUserDetails\" function to send the ACTION OBJECT to the authReducer. **Please scroll the page above to access the \"setUserDetails\" function.\ndispatch(_setUserDetails(_userDetails));// 23. The user is redirected to the dashboard.\nhistory.push(\"/dashboard\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};var authActions_register=function _register(userDetails,history){return/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(dispatch){var response,_response$exception2,_response$exception2$,_response$data2,_userDetails2;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api_register(userDetails);case 2:response=_context2.sent;console.log(response);if(response.error){dispatch(_openAlertMessage(response===null||response===void 0?void 0:(_response$exception2=response.exception)===null||_response$exception2===void 0?void 0:(_response$exception2$=_response$exception2.response)===null||_response$exception2$===void 0?void 0:_response$exception2$.data));}else{_response$data2=response===null||response===void 0?void 0:response.data,_userDetails2=_response$data2.userDetails;localStorage.setItem(\"user\",JSON.stringify(_userDetails2));dispatch(_setUserDetails(_userDetails2));history.push(\"/dashboard\");}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};\n// CONCATENATED MODULE: ./src/authPages/LoginPage/LoginPage.js\nvar LoginPage_LoginPage=function LoginPage(_ref){var login=_ref.login;var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mail=_useState2[0],setMail=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isFormValid=_useState6[0],setIsFormValid=_useState6[1];Object(react[\"useEffect\"])(function(){setIsFormValid(validateLoginForm({mail:mail,password:password}));},[mail,password,setIsFormValid]);var handleLogin=function handleLogin(){// 2. The handleLogin function assigns userDetails to the \"login\" function. Where did the \"login\" function come from? It come from \"mapActionsToProps\" function. **Please scroll the page down to find the \"mapActionsToProps\" function\nvar userDetails={mail:mail,password:password};login(userDetails,history);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_AuthBox,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoginPage_LoginPageHeader,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoginPage_LoginPageInputs// Send the props to the LoginPageInputs\n,{mail:mail,setMail:setMail,password:password,setPassword:setPassword}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoginPage_LoginPageFooter,{isFormValid:isFormValid,handleLogin:handleLogin})]});};// 3. The mapActionsToProps functions returns the \"getActions\" function from \"authActions\" file. Lets try to search \"authActions\" file to see if \"login\" function exists in the \"authActions\" file.\nvar LoginPage_mapActionsToProps=function mapActionsToProps(dispatch){return Object(objectSpread2[\"a\" /* default */])({},authActions_getActions(dispatch));};/* harmony default export */ var authPages_LoginPage_LoginPage = (Object(es[\"b\" /* connect */])(null,LoginPage_mapActionsToProps)(LoginPage_LoginPage));\n// CONCATENATED MODULE: ./src/authPages/RegisterPage/RegisterPageInputs.js\nvar RegisterPageInputs_RegisterPageInputs=function RegisterPageInputs(props){var mail=props.mail,setMail=props.setMail,username=props.username,setUsername=props.setUsername,password=props.password,setPassword=props.setPassword;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_InputWithLabel,{value:mail,setValue:setMail,label:\"E-mail address\",type:\"text\",placeholder:\"Enter e-mail address\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_InputWithLabel,{value:username,setValue:setUsername,label:\"Username\",type:\"text\",placeholder:\"Enter a username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_InputWithLabel,{value:password,setValue:setPassword,label:\"Password\",type:\"password\",placeholder:\"Enter password\"})]});};/* harmony default export */ var RegisterPage_RegisterPageInputs = (RegisterPageInputs_RegisterPageInputs);\n// CONCATENATED MODULE: ./src/authPages/RegisterPage/RegisterPageFooter.js\nvar RegisterPageFooter_getFormNotValidMessage=function getFormNotValidMessage(){return\"Username should contains between 3 and 12 characters and password should contains between 6 and 12 character. Also correct e-mail address should provided\";};var RegisterPageFooter_getFormValidMessage=function getFormValidMessage(){return\"Press to register!\";};var RegisterPageFooter_RegisterPageFooter=function RegisterPageFooter(_ref){var handleRegister=_ref.handleRegister,isFormValid=_ref.isFormValid;var history=Object(react_router[\"g\" /* useHistory */])();var handlePushToLoginPage=function handlePushToLoginPage(){history.push(\"/login\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* default */],{title:!isFormValid?RegisterPageFooter_getFormNotValidMessage():RegisterPageFooter_getFormValidMessage(),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CustomPrimaryButton,{label:\"Register\",additionalStyles:{marginTop:\"30px\"},disabled:!isFormValid,onClick:handleRegister})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_RedirectInfo,{text:\"\",redirectText:\"Already have an account ?\",additionalStyles:{marginTop:\"5px\"},redirectHandler:handlePushToLoginPage})]});};/* harmony default export */ var RegisterPage_RegisterPageFooter = (RegisterPageFooter_RegisterPageFooter);\n// CONCATENATED MODULE: ./src/authPages/RegisterPage/RegisterPage.js\nvar RegisterPage_RegisterPage=function RegisterPage(_ref){var register=_ref.register;var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mail=_useState2[0],setMail=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isFormValid=_useState8[0],setIsFormValid=_useState8[1];var handleRegister=function handleRegister(){var userDetails={mail:mail,password:password,username:username};register(userDetails,history);};Object(react[\"useEffect\"])(function(){setIsFormValid(validateRegisterForm({mail:mail,username:username,password:password}));},[mail,username,password,setIsFormValid]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_AuthBox,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",sx:{color:\"white \"},children:\"Create an account\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RegisterPage_RegisterPageInputs,{mail:mail,setMail:setMail,username:username,setUsername:setUsername,password:password,setPassword:setPassword}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RegisterPage_RegisterPageFooter,{handleRegister:handleRegister,isFormValid:isFormValid})]});};var RegisterPage_mapActionsToProps=function mapActionsToProps(dispatch){return Object(objectSpread2[\"a\" /* default */])({},authActions_getActions(dispatch));};/* harmony default export */ var authPages_RegisterPage_RegisterPage = (Object(es[\"b\" /* connect */])(null,RegisterPage_mapActionsToProps)(RegisterPage_RegisterPage));\n// CONCATENATED MODULE: ./src/assets/JOO_white.png\n/* harmony default export */ var JOO_white = (__webpack_require__.p + \"static/media/JOO_white.fdb1b01c.png\");\n// CONCATENATED MODULE: ./src/Dashboard/SideBar/MainPageButton.js\nvar MainPageButton_MainPageButton=function MainPageButton(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{width:\"48px\",height:\"48px\",borderRadius:\"16px\",margin:0,padding:0,minWidth:0,marginTop:\"10px\",color:\"white\",backgroundColor:\"#67063c\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:JOO_white,style:{width:\"35px\"}})});};/* harmony default export */ var SideBar_MainPageButton = (MainPageButton_MainPageButton);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Add.js\nvar Add = __webpack_require__(140);\nvar Add_default = /*#__PURE__*/__webpack_require__.n(Add);\n\n// EXTERNAL MODULE: ./node_modules/redux-devtools-extension/index.js\nvar redux_devtools_extension = __webpack_require__(136);\n\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js\nvar redux = __webpack_require__(78);\n\n// EXTERNAL MODULE: ./node_modules/redux-thunk/es/index.js\nvar redux_thunk_es = __webpack_require__(137);\n\n// CONCATENATED MODULE: ./src/store/reducers/authReducer.js\nvar initState={userDetails:null};var authReducer_reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){// 22. If the state authAction sent matches with the case written below. the UPDATED state will be returned to the login Function. **Please reference back to the \"authActions.js\"\ncase authActions.SET_USER_DETAILS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{userDetails:action.userDetails});default:return state;}};/* harmony default export */ var authReducer = (authReducer_reducer);\n// CONCATENATED MODULE: ./src/store/reducers/alertReducer.js\nvar alertReducer_initState={showAlertMessage:false,alertMessageContent:null};var alertReducer_reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:alertReducer_initState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actions_alertActions.OPEN_ALERT_MESSAGE:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{showAlertMessage:true,alertMessageContent:action.content});case actions_alertActions.CLOSE_ALERT_MESSAGE:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{showAlertMessage:false,alertMessageContent:null});default:return state;}};/* harmony default export */ var alertReducer = (alertReducer_reducer);\n// CONCATENATED MODULE: ./src/store/actions/friendsActions.js\nvar friendsActions={SET_FRIENDS:\"FRIENDS.SET_FRIENDS\",SET_PENDING_FRIENDS_INVITATIONS:\"FRIENDS.SET_PENDING_FRIENDS_INVITATIONS\",SET_ONLINE_USERS:\"FRIENDS.SET_ONLINE_USERS\"};var friendsActions_getActions=function getActions(dispatch){return{sendFriendInvitation:function sendFriendInvitation(data,closeDialogHandler){return dispatch(friendsActions_sendFriendInvitation(data,closeDialogHandler));},acceptFriendInvitation:function acceptFriendInvitation(data){return dispatch(friendsActions_acceptFriendInvitation(data));},rejectFriendInvitation:function rejectFriendInvitation(data){return dispatch(friendsActions_rejectFriendInvitation(data));}};};var setPendingFriendsInvitations=function setPendingFriendsInvitations(pendingFriendsInvitations){return{type:friendsActions.SET_PENDING_FRIENDS_INVITATIONS,pendingFriendsInvitations:pendingFriendsInvitations};};var setFriends=function setFriends(friends){return{type:friendsActions.SET_FRIENDS,friends:friends};};var setOnlineUsers=function setOnlineUsers(onlineUsers){return{type:friendsActions.SET_ONLINE_USERS,onlineUsers:onlineUsers};};var friendsActions_sendFriendInvitation=function _sendFriendInvitation(data,closeDialogHandler){return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(dispatch){var response,_response$exception,_response$exception$r;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api_sendFriendInvitation(data);case 2:response=_context.sent;if(response.error){dispatch(_openAlertMessage((_response$exception=response.exception)===null||_response$exception===void 0?void 0:(_response$exception$r=_response$exception.response)===null||_response$exception$r===void 0?void 0:_response$exception$r.data));}else{dispatch(_openAlertMessage(\"Invitation has been sent!\"));closeDialogHandler();}case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};var friendsActions_acceptFriendInvitation=function _acceptFriendInvitation(data){return/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(dispatch){var response,_response$exception2,_response$exception2$;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api_acceptFriendInvitation(data);case 2:response=_context2.sent;if(response.error){dispatch(_openAlertMessage((_response$exception2=response.exception)===null||_response$exception2===void 0?void 0:(_response$exception2$=_response$exception2.response)===null||_response$exception2$===void 0?void 0:_response$exception2$.data));}else{dispatch(_openAlertMessage(\"Invitation accepted!\"));}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};var friendsActions_rejectFriendInvitation=function _rejectFriendInvitation(data){return/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee3(dispatch){var response,_response$exception3,_response$exception3$;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api_rejectFriendInvitation(data);case 2:response=_context3.sent;if(response.error){dispatch(_openAlertMessage((_response$exception3=response.exception)===null||_response$exception3===void 0?void 0:(_response$exception3$=_response$exception3.response)===null||_response$exception3$===void 0?void 0:_response$exception3$.data));}else{dispatch(_openAlertMessage(\"Invitation rejected!\"));}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};\n// CONCATENATED MODULE: ./src/store/reducers/friendsReducer.js\nvar friendsReducer_initState={friends:[],pendingFriendsInvitations:[],onlineUsers:[]};var friendsReducer_reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:friendsReducer_initState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case friendsActions.SET_PENDING_FRIENDS_INVITATIONS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{pendingFriendsInvitations:action.pendingFriendsInvitations});case friendsActions.SET_FRIENDS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{friends:action.friends});case friendsActions.SET_ONLINE_USERS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{onlineUsers:action.onlineUsers});default:return state;}};/* harmony default export */ var friendsReducer = (friendsReducer_reducer);\n// CONCATENATED MODULE: ./src/store/actions/chatActions.js\nvar chatTypes={DIRECT:\"DIRECT\",GROUP:\"GROUP\"};var chatActions={SET_CHOSEN_CHAT_DETAILS:\"CHAT.SET_CHOSEN_CHAT_DETAILS\",SET_MESSAGES:\"CHAT.SET_MESSAGES\",SET_CHAT_TYPE:\"CHAT.SET_CHAT_TYPE\"};var chatActions_getActions=function getActions(dispatch){return{setChosenChatDetails:function setChosenChatDetails(details,chatType){return dispatch(_setChosenChatDetails(details,chatType));}};};var _setChosenChatDetails=function _setChosenChatDetails(chatDetails,type){return{type:chatActions.SET_CHOSEN_CHAT_DETAILS,chatType:type,chatDetails:chatDetails};};var setMessages=function setMessages(messages){return{type:chatActions.SET_MESSAGES,messages:messages};};\n// CONCATENATED MODULE: ./src/store/reducers/chatReducer.js\nvar chatReducer_initState={chosenChatDetails:null,chatType:null,messages:[]};var chatReducer_reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:chatReducer_initState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case chatActions.SET_CHOSEN_CHAT_DETAILS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{chosenChatDetails:action.chatDetails,chatType:action.chatType,messages:[]});case chatActions.SET_MESSAGES:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{messages:action.messages});default:return state;}};/* harmony default export */ var chatReducer = (chatReducer_reducer);\n// CONCATENATED MODULE: ./src/store/actions/roomActions.js\nvar roomActions={OPEN_ROOM:\"ROOM.OPEN_ROOM\",SET_ROOM_DETAILS:\"ROOM.SET_ROOM_DETAILS\",SET_ACTIVE_ROOMS:\"ROOM.SET_ACTIVE_ROOMS\",SET_LOCAL_STREAM:\"ROOM.SET_LOCAL_STREAM\",SET_REMOTE_STREAMS:\"ROOM.SET_REMOTE_STREAMS\",SET_AUDIO_ONLY:\"ROOM.SET_AUDIO_ONLY\",SET_SCREEN_SHARE_STREAM:\"ROOM.SET_SCREEN_SHARE_STREAM\",SET_IS_USER_JOINED_WITH_ONLY_AUDIO:\"ROOM.SET_IS_USER_JOINED_WITH_ONLY_AUDIO\"};var setOpenRoom=function setOpenRoom(){var isUserRoomCreator=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var isUserInRoom=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return{type:roomActions.OPEN_ROOM,isUserRoomCreator:isUserRoomCreator,isUserInRoom:isUserInRoom};};var roomActions_getActions=function getActions(dispatch){return{setAudioOnly:function setAudioOnly(audioOnly){return dispatch(_setAudioOnly(audioOnly));},setScreenSharingStream:function setScreenSharingStream(stream){dispatch(_setScreenSharingStream(stream));}};};var setRoomDetails=function setRoomDetails(roomDetails){return{type:roomActions.SET_ROOM_DETAILS,roomDetails:roomDetails};};var setActiveRooms=function setActiveRooms(activeRooms){return{type:roomActions.SET_ACTIVE_ROOMS,activeRooms:activeRooms};};var setLocalStream=function setLocalStream(localStream){return{type:roomActions.SET_LOCAL_STREAM,localStream:localStream};};var _setAudioOnly=function _setAudioOnly(audioOnly){return{type:roomActions.SET_AUDIO_ONLY,audioOnly:audioOnly};};var setRemoteStreams=function setRemoteStreams(remoteStreams){return{type:roomActions.SET_REMOTE_STREAMS,remoteStreams:remoteStreams};};var _setScreenSharingStream=function _setScreenSharingStream(stream){return{type:roomActions.SET_SCREEN_SHARE_STREAM,isScreenSharingActive:stream?true:false,screenSharingStream:stream||null};};var setIsUserJoinedOnlyWithAudio=function setIsUserJoinedOnlyWithAudio(onlyWithAudio){return{type:roomActions.SET_IS_USER_JOINED_WITH_ONLY_AUDIO,isUserJoinedWithOnlyAudio:onlyWithAudio};};\n// CONCATENATED MODULE: ./src/store/reducers/roomReducer.js\nvar roomReducer_initState={isUserInRoom:false,isUserRoomCreator:false,roomDetails:null,activeRooms:[],localStream:null,remoteStreams:[],audioOnly:false,screenSharingStream:null,isScreenSharingActive:false,isUserJoinedWithOnlyAudio:false};var roomReducer_reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:roomReducer_initState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case roomActions.OPEN_ROOM:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isUserInRoom:action.isUserInRoom,isUserRoomCreator:action.isUserRoomCreator});case roomActions.SET_ROOM_DETAILS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{roomDetails:action.roomDetails});case roomActions.SET_ACTIVE_ROOMS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{activeRooms:action.activeRooms});case roomActions.SET_LOCAL_STREAM:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{localStream:action.localStream});case roomActions.SET_AUDIO_ONLY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{audioOnly:action.audioOnly});case roomActions.SET_REMOTE_STREAMS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{remoteStreams:action.remoteStreams});case roomActions.SET_SCREEN_SHARE_STREAM:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{screenSharingStream:action.screenSharingStream,isScreenSharingActive:action.isScreenSharingActive});case roomActions.SET_IS_USER_JOINED_WITH_ONLY_AUDIO:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isUserJoinedWithOnlyAudio:action.isUserJoinedWithOnlyAudio});default:return state;}};/* harmony default export */ var roomReducer = (roomReducer_reducer);\n// CONCATENATED MODULE: ./src/store/store.js\nvar rootReducer=Object(redux[\"combineReducers\"])({auth:authReducer,alert:alertReducer,friends:friendsReducer,chat:chatReducer,room:roomReducer});var store=Object(redux[\"createStore\"])(rootReducer,Object(redux_devtools_extension[\"composeWithDevTools\"])(Object(redux[\"applyMiddleware\"])(redux_thunk_es[\"a\" /* default */])));/* harmony default export */ var store_store = (store);\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/esm/index.js + 16 modules\nvar esm = __webpack_require__(154);\n\n// CONCATENATED MODULE: ./src/shared/utils/chat.js\nvar chat_updateDirectChatHistoryIfActive=function updateDirectChatHistoryIfActive(data){var _store$getState$chat$;var participants=data.participants,messages=data.messages;// find id of user from token and id from active conversation\nvar receiverId=(_store$getState$chat$=store_store.getState().chat.chosenChatDetails)===null||_store$getState$chat$===void 0?void 0:_store$getState$chat$.id;var userId=store_store.getState().auth.userDetails._id;if(receiverId&&userId){var usersInCoversation=[receiverId,userId];chat_updateChatHistoryIfSameConversationActive({participants:participants,usersInCoversation:usersInCoversation,messages:messages});}};var chat_updateChatHistoryIfSameConversationActive=function updateChatHistoryIfSameConversationActive(_ref){var participants=_ref.participants,usersInCoversation=_ref.usersInCoversation,messages=_ref.messages;var result=participants.every(function(participantId){return usersInCoversation.includes(participantId);});if(result){store_store.dispatch(setMessages(messages));}};\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/simple-peer/index.js\nvar simple_peer = __webpack_require__(139);\nvar simple_peer_default = /*#__PURE__*/__webpack_require__.n(simple_peer);\n\n// CONCATENATED MODULE: ./src/realtimeCommunication/webRTCHandler.js\nvar getConfiguration=function getConfiguration(){var turnIceServers=null;if(turnIceServers){// TODO use TURN server credentials\n}else{console.warn(\"Using only STUN server\");return{iceServers:[{urls:\"stun:stun.l.google.com:19302\"}]};}};var onlyAudioConstraints={audio:true,video:false};var defaultConstraints={video:true,audio:true};var webRTCHandler_getLocalStreamPreview=function getLocalStreamPreview(){var onlyAudio=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var callbackFunc=arguments.length>1?arguments[1]:undefined;var constraints=onlyAudio?onlyAudioConstraints:defaultConstraints;navigator.mediaDevices.getUserMedia(constraints).then(function(stream){store_store.dispatch(setLocalStream(stream));callbackFunc();}).catch(function(err){console.log(err);console.log(\"Cannot get an access to local stream\");});};var peers={};var webRTCHandler_prepareNewPeerConnection=function prepareNewPeerConnection(connUserSocketId,isInitiator){var localStream=store_store.getState().room.localStream;if(isInitiator){console.log(\"preparing new peer connection as initiator\");}else{console.log(\"preparing new peer connection as not initiator\");}peers[connUserSocketId]=new simple_peer_default.a({initiator:isInitiator,config:getConfiguration(),stream:localStream});peers[connUserSocketId].on(\"signal\",function(data){var signalData={signal:data,connUserSocketId:connUserSocketId};signalPeerData(signalData);});peers[connUserSocketId].on(\"stream\",function(remoteStream){// TODO\n// add new remote stream to our server store\nconsole.log(\"remote stream came from other user\");console.log(\"direct connection has been established\");remoteStream.connUserSocketId=connUserSocketId;webRTCHandler_addNewRemoteStream(remoteStream);});};var handleSignalingData=function handleSignalingData(data){var connUserSocketId=data.connUserSocketId,signal=data.signal;if(peers[connUserSocketId]){peers[connUserSocketId].signal(signal);}};var webRTCHandler_addNewRemoteStream=function addNewRemoteStream(remoteStream){var remoteStreams=store_store.getState().room.remoteStreams;var newRemoteStreams=[].concat(Object(toConsumableArray[\"a\" /* default */])(remoteStreams),[remoteStream]);store_store.dispatch(setRemoteStreams(newRemoteStreams));};var closeAllConnections=function closeAllConnections(){Object.entries(peers).forEach(function(mappedObject){var connUserSocketId=mappedObject[0];if(peers[connUserSocketId]){peers[connUserSocketId].destroy();delete peers[connUserSocketId];}});};var webRTCHandler_handleParticipantLeftRoom=function handleParticipantLeftRoom(data){var connUserSocketId=data.connUserSocketId;if(peers[connUserSocketId]){peers[connUserSocketId].destroy();delete peers[connUserSocketId];}var remoteStreams=store_store.getState().room.remoteStreams;var newRemoteStreams=remoteStreams.filter(function(remoteStream){return remoteStream.connUserSocketId!==connUserSocketId;});store_store.dispatch(setRemoteStreams(newRemoteStreams));};var switchOutgoingTracks=function switchOutgoingTracks(stream){for(var socket_id in peers){for(var index in peers[socket_id].streams[0].getTracks()){for(var index2 in stream.getTracks()){if(peers[socket_id].streams[0].getTracks()[index].kind===stream.getTracks()[index2].kind){peers[socket_id].replaceTrack(peers[socket_id].streams[0].getTracks()[index],stream.getTracks()[index2],peers[socket_id].streams[0]);break;}}}}};\n// CONCATENATED MODULE: ./src/realtimeCommunication/socketConnection.js\nvar socket=null;var socketConnection_connectWithSocketServer=function connectWithSocketServer(userDetails){var jwtToken=userDetails.token;socket=Object(esm[\"a\" /* default */])(\"http://localhost:5002\",{auth:{token:jwtToken}});socket.on(\"connect\",function(){console.log(\"succesfully connected with socket.io server\");console.log(socket.id);});socket.on(\"friends-invitations\",function(data){var pendingInvitations=data.pendingInvitations;store_store.dispatch(setPendingFriendsInvitations(pendingInvitations));});socket.on(\"friends-list\",function(data){var friends=data.friends;store_store.dispatch(setFriends(friends));});socket.on(\"online-users\",function(data){var onlineUsers=data.onlineUsers;store_store.dispatch(setOnlineUsers(onlineUsers));});socket.on(\"direct-chat-history\",function(data){console.log(data);chat_updateDirectChatHistoryIfActive(data);});socket.on(\"room-create\",function(data){roomHandler_newRoomCreated(data);});socket.on(\"active-rooms\",function(data){roomHandler_updateActiveRooms(data);});socket.on(\"conn-prepare\",function(data){var connUserSocketId=data.connUserSocketId;webRTCHandler_prepareNewPeerConnection(connUserSocketId,false);socket.emit(\"conn-init\",{connUserSocketId:connUserSocketId});});socket.on(\"conn-init\",function(data){var connUserSocketId=data.connUserSocketId;webRTCHandler_prepareNewPeerConnection(connUserSocketId,true);});socket.on(\"conn-signal\",function(data){handleSignalingData(data);});socket.on(\"room-participant-left\",function(data){console.log(\"user left room\");webRTCHandler_handleParticipantLeftRoom(data);});};var sendDirectMessage=function sendDirectMessage(data){console.log(data);socket.emit(\"direct-message\",data);};var getDirectChatHistory=function getDirectChatHistory(data){socket.emit(\"direct-chat-history\",data);};var socketConnection_createNewRoom=function createNewRoom(){socket.emit(\"room-create\");};var socketConnection_joinRoom=function joinRoom(data){socket.emit(\"room-join\",data);};var socketConnection_leaveRoom=function leaveRoom(data){socket.emit(\"room-leave\",data);};var signalPeerData=function signalPeerData(data){socket.emit(\"conn-signal\",data);};\n// CONCATENATED MODULE: ./src/realtimeCommunication/roomHandler.js\nvar roomHandler_createNewRoom=function createNewRoom(){var successCalbackFunc=function successCalbackFunc(){store_store.dispatch(setOpenRoom(true,true));var audioOnly=store_store.getState().room.audioOnly;store_store.dispatch(setIsUserJoinedOnlyWithAudio(audioOnly));socketConnection_createNewRoom();};var audioOnly=store_store.getState().room.audioOnly;webRTCHandler_getLocalStreamPreview(audioOnly,successCalbackFunc);};var roomHandler_newRoomCreated=function newRoomCreated(data){var roomDetails=data.roomDetails;store_store.dispatch(setRoomDetails(roomDetails));};var roomHandler_updateActiveRooms=function updateActiveRooms(data){var _store$getState$auth$;var activeRooms=data.activeRooms;var friends=store_store.getState().friends.friends;var rooms=[];var userId=(_store$getState$auth$=store_store.getState().auth.userDetails)===null||_store$getState$auth$===void 0?void 0:_store$getState$auth$._id;activeRooms.forEach(function(room){var isRoomCreatedByMe=room.roomCreator.userId===userId;if(isRoomCreatedByMe){rooms.push(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},room),{},{creatorUsername:\"Me\"}));}else{friends.forEach(function(f){if(f.id===room.roomCreator.userId){rooms.push(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},room),{},{creatorUsername:f.username}));}});}});store_store.dispatch(setActiveRooms(rooms));};var roomHandler_joinRoom=function joinRoom(roomId){var successCalbackFunc=function successCalbackFunc(){store_store.dispatch(setRoomDetails({roomId:roomId}));store_store.dispatch(setOpenRoom(false,true));var audioOnly=store_store.getState().room.audioOnly;store_store.dispatch(setIsUserJoinedOnlyWithAudio(audioOnly));socketConnection_joinRoom({roomId:roomId});};var audioOnly=store_store.getState().room.audioOnly;webRTCHandler_getLocalStreamPreview(audioOnly,successCalbackFunc);};var roomHandler_leaveRoom=function leaveRoom(){var roomId=store_store.getState().room.roomDetails.roomId;var localStream=store_store.getState().room.localStream;if(localStream){localStream.getTracks().forEach(function(track){return track.stop();});store_store.dispatch(setLocalStream(null));}var screenSharingStream=store_store.getState().room.screenSharingStream;if(screenSharingStream){screenSharingStream.getTracks().forEach(function(track){return track.stop();});store_store.dispatch(_setScreenSharingStream(null));}store_store.dispatch(setRemoteStreams([]));closeAllConnections();socketConnection_leaveRoom({roomId:roomId});store_store.dispatch(setRoomDetails(null));store_store.dispatch(setOpenRoom(false,false));};\n// CONCATENATED MODULE: ./src/Dashboard/SideBar/CreateRoomButton.js\nvar CreateRoomButton_CreateRoomButton=function CreateRoomButton(_ref){var isUserInRoom=_ref.isUserInRoom;var createNewRoomHandler=function createNewRoomHandler(){roomHandler_createNewRoom();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:isUserInRoom,onClick:createNewRoomHandler,style:{width:\"48px\",height:\"48px\",borderRadius:\"16px\",margin:0,padding:0,minWidth:0,marginTop:\"10px\",color:\"white\",backgroundColor:\"#67063c\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Add_default.a,{})});};/* harmony default export */ var SideBar_CreateRoomButton = (CreateRoomButton_CreateRoomButton);\n// CONCATENATED MODULE: ./src/shared/components/Avatar.js\nvar AvatarPreview=Object(styled[\"a\" /* default */])(\"div\")({height:\"42px\",width:\"42px\",backgroundColor:\"#67063c\",borderRadius:\"42px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:\"20px\",fontWeight:\"700\",color:\"white\"});var Avatar_Avatar=function Avatar(_ref){var username=_ref.username,large=_ref.large;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarPreview,{style:large?{height:\"80px\",width:\"80px\"}:{},children:username.substring(0,2)});};/* harmony default export */ var components_Avatar = (Avatar_Avatar);\n// CONCATENATED MODULE: ./src/Dashboard/SideBar/ActiveRoomButton.js\nvar ActiveRoomButton_ActiveRoomButton=function ActiveRoomButton(_ref){var creatorUsername=_ref.creatorUsername,roomId=_ref.roomId,amountOfParticipants=_ref.amountOfParticipants,isUserInRoom=_ref.isUserInRoom;var handleJoinActiveRoom=function handleJoinActiveRoom(){if(amountOfParticipants<4){roomHandler_joinRoom(roomId);}};var activeRoomButtonDisabled=amountOfParticipants>3;var roomTitle=\"Cretor: \".concat(creatorUsername,\". Connected: \").concat(amountOfParticipants);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* default */],{title:roomTitle,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{width:\"48px\",height:\"48px\",borderRadius:\"16px\",margin:0,padding:0,minWidth:0,marginTop:\"10px\",color:\"white\",backgroundColor:\"#67063c\"},disabled:activeRoomButtonDisabled||isUserInRoom,onClick:handleJoinActiveRoom,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Avatar,{username:creatorUsername})})})});};/* harmony default export */ var SideBar_ActiveRoomButton = (ActiveRoomButton_ActiveRoomButton);\n// CONCATENATED MODULE: ./src/Dashboard/SideBar/SideBar.js\nvar MainContainer=Object(styled[\"a\" /* default */])(\"div\")({width:\"72px\",height:\"100%\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",backgroundColor:\"#000000\"});var SideBar_SideBar=function SideBar(_ref){var activeRooms=_ref.activeRooms,isUserInRoom=_ref.isUserInRoom;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MainContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideBar_MainPageButton,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideBar_CreateRoomButton,{stlye:{backgroundColor:\"#67063c\"},isUserInRoom:isUserInRoom}),activeRooms.map(function(room){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideBar_ActiveRoomButton,{roomId:room.roomId,creatorUsername:room.creatorUsername,amountOfParticipants:room.participants.length,isUserInRoom:isUserInRoom,style:{backgroundColor:\"#5865f2\"}},room.roomId);})]});};var SideBar_mapStoreStateToProps=function mapStoreStateToProps(_ref2){var room=_ref2.room;return Object(objectSpread2[\"a\" /* default */])({},room);};/* harmony default export */ var Dashboard_SideBar_SideBar = (Object(es[\"b\" /* connect */])(SideBar_mapStoreStateToProps)(SideBar_SideBar));\n// EXTERNAL MODULE: ./node_modules/@mui/material/Dialog/Dialog.js + 1 modules\nvar Dialog = __webpack_require__(303);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogTitle/DialogTitle.js\nvar DialogTitle = __webpack_require__(293);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogActions/DialogActions.js + 1 modules\nvar DialogActions = __webpack_require__(308);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogContent/DialogContent.js + 1 modules\nvar DialogContent = __webpack_require__(306);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogContentText/DialogContentText.js + 1 modules\nvar DialogContentText = __webpack_require__(307);\n\n// CONCATENATED MODULE: ./src/Dashboard/FriendsSideBar/AddFriendDialog.js\nvar AddFriendDialog_AddFriendDialog=function AddFriendDialog(_ref){var isDialogOpen=_ref.isDialogOpen,closeDialogHandler=_ref.closeDialogHandler,_ref$sendFriendInvita=_ref.sendFriendInvitation,sendFriendInvitation=_ref$sendFriendInvita===void 0?function(){}:_ref$sendFriendInvita;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mail=_useState2[0],setMail=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isFormValid=_useState4[0],setIsFormValid=_useState4[1];var handleSendInvitation=function handleSendInvitation(){sendFriendInvitation({targetMailAddress:mail},handleCloseDialog);};var handleCloseDialog=function handleCloseDialog(){closeDialogHandler();setMail(\"\");};Object(react[\"useEffect\"])(function(){setIsFormValid(validateMail(mail));},[mail,setIsFormValid]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:isDialogOpen,onClose:handleCloseDialog,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:\"Invite a Friend\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogContent[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogContentText[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:\"Enter e-mail address of friend which you would like to invite\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_InputWithLabel,{label:\"Mail\",type:\"text\",value:mail,setValue:setMail,placeholder:\"Enter mail address\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogActions[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CustomPrimaryButton,{onClick:handleSendInvitation,disabled:!isFormValid,label:\"Send\",additionalStyles:{marginLeft:\"15px\",marginRight:\"15px\",marginBottom:\"10px\"}})})]})});};var AddFriendDialog_mapActionsToProps=function mapActionsToProps(dispatch){return Object(objectSpread2[\"a\" /* default */])({},friendsActions_getActions(dispatch));};/* harmony default export */ var FriendsSideBar_AddFriendDialog = (Object(es[\"b\" /* connect */])(null,AddFriendDialog_mapActionsToProps)(AddFriendDialog_AddFriendDialog));\n// CONCATENATED MODULE: ./src/Dashboard/FriendsSideBar/AddFriendButton.js\nvar AddFriendButton_additionalStyles={marginTop:\"10px\",marginLeft:\"5px\",width:\"80%\",height:\"30px\",background:\"#3ba55d\"};var AddFriendButton_AddFriendButton=function AddFriendButton(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isDialogOpen=_useState2[0],setIsDialogOpen=_useState2[1];var handleOpenAddFriendDialog=function handleOpenAddFriendDialog(){setIsDialogOpen(true);};var handleCloseAddFriendDialog=function handleCloseAddFriendDialog(){setIsDialogOpen(false);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CustomPrimaryButton,{additionalStyles:AddFriendButton_additionalStyles,label:\"Add Friend\",onClick:handleOpenAddFriendDialog}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsSideBar_AddFriendDialog,{isDialogOpen:isDialogOpen,closeDialogHandler:handleCloseAddFriendDialog})]});};/* harmony default export */ var FriendsSideBar_AddFriendButton = (AddFriendButton_AddFriendButton);\n// CONCATENATED MODULE: ./src/Dashboard/FriendsSideBar/FriendsTitle.js\nvar FriendsTitle_FriendsTitle=function FriendsTitle(_ref){var title=_ref.title;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{sx:{textTransform:\"uppercase\",color:\"#E1E1E1\",fontSize:\"14px\",marginTop:\"10px\"},children:title});};/* harmony default export */ var FriendsSideBar_FriendsTitle = (FriendsTitle_FriendsTitle);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/FiberManualRecord.js\nvar FiberManualRecord = __webpack_require__(141);\nvar FiberManualRecord_default = /*#__PURE__*/__webpack_require__.n(FiberManualRecord);\n\n// CONCATENATED MODULE: ./src/Dashboard/FriendsSideBar/FriendsList/OnlineIndicator.js\nvar OnlineIndicator_OnlineIndicator=function OnlineIndicator(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:{color:\"#3ba55d\",display:\"flex\",alignItems:\"center\",position:\"absolute\",right:\"5px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FiberManualRecord_default.a,{})});};/* harmony default export */ var FriendsList_OnlineIndicator = (OnlineIndicator_OnlineIndicator);\n// CONCATENATED MODULE: ./src/Dashboard/FriendsSideBar/FriendsList/FriendsListItem.js\nvar FriendsListItem_FriendsListItem=function FriendsListItem(_ref){var id=_ref.id,username=_ref.username,isOnline=_ref.isOnline,setChosenChatDetails=_ref.setChosenChatDetails;var handleChooseActiveConversation=function handleChooseActiveConversation(){setChosenChatDetails({id:id,name:username},chatTypes.DIRECT);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{onClick:handleChooseActiveConversation,style:{width:\"100%\",height:\"42px\",marginTop:\"10px\",display:\"flex\",alignItems:\"center\",justifyContent:\"flex-start\",textTransform:\"none\",color:\"#F3F3F3\",position:\"relative\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Avatar,{username:username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{style:{marginLeft:\"7px\",fontWeight:700,color:\"#E1E1E1\"},variant:\"subtitle1\",align:\"left\",children:username}),isOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsList_OnlineIndicator,{})]});};var FriendsListItem_mapActionsToProps=function mapActionsToProps(dispatch){return Object(objectSpread2[\"a\" /* default */])({},chatActions_getActions(dispatch));};/* harmony default export */ var FriendsList_FriendsListItem = (Object(es[\"b\" /* connect */])(null,FriendsListItem_mapActionsToProps)(FriendsListItem_FriendsListItem));\n// CONCATENATED MODULE: ./src/Dashboard/FriendsSideBar/FriendsList/FriendsList.js\nvar FriendsList_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({flexGrow:1,width:\"100%\"});var checkOnlineUsers=function checkOnlineUsers(){var friends=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var onlineUsers=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];friends.forEach(function(f){var isUserOnline=onlineUsers.find(function(user){return user.userId===f.id;});f.isOnline=isUserOnline?true:false;});return friends;};var FriendsList_FriendsList=function FriendsList(_ref){var friends=_ref.friends,onlineUsers=_ref.onlineUsers;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsList_MainContainer,{children:checkOnlineUsers(friends,onlineUsers).map(function(f){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsList_FriendsListItem,{username:f.username,id:f.id,isOnline:f.isOnline},f.id);})});};var FriendsList_mapStoreStateToProps=function mapStoreStateToProps(_ref2){var friends=_ref2.friends;return Object(objectSpread2[\"a\" /* default */])({},friends);};/* harmony default export */ var FriendsSideBar_FriendsList_FriendsList = (Object(es[\"b\" /* connect */])(FriendsList_mapStoreStateToProps)(FriendsList_FriendsList));\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Check.js\nvar Check = __webpack_require__(142);\nvar Check_default = /*#__PURE__*/__webpack_require__.n(Check);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Clear.js\nvar Clear = __webpack_require__(143);\nvar Clear_default = /*#__PURE__*/__webpack_require__.n(Clear);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/IconButton/IconButton.js + 1 modules\nvar IconButton = __webpack_require__(309);\n\n// CONCATENATED MODULE: ./src/Dashboard/FriendsSideBar/PendingInvitationsList/InvitationDecisionButtons.js\nvar InvitationDecisionButtons_InvitationDecisionButtons=function InvitationDecisionButtons(_ref){var disabled=_ref.disabled,acceptInvitationHandler=_ref.acceptInvitationHandler,rejectInvitationHandler=_ref.rejectInvitationHandler;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{display:\"flex\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{color:\"white\"},disabled:disabled,onClick:acceptInvitationHandler,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Check_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{color:\"white\"},disabled:disabled,onClick:rejectInvitationHandler,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Clear_default.a,{})})]});};/* harmony default export */ var PendingInvitationsList_InvitationDecisionButtons = (InvitationDecisionButtons_InvitationDecisionButtons);\n// CONCATENATED MODULE: ./src/Dashboard/FriendsSideBar/PendingInvitationsList/PendingInvitationsListItem.js\nvar PendingInvitationsListItem_PendingInvitationsListItem=function PendingInvitationsListItem(_ref){var id=_ref.id,username=_ref.username,mail=_ref.mail,_ref$acceptFriendInvi=_ref.acceptFriendInvitation,acceptFriendInvitation=_ref$acceptFriendInvi===void 0?function(){}:_ref$acceptFriendInvi,_ref$rejectFriendInvi=_ref.rejectFriendInvitation,rejectFriendInvitation=_ref$rejectFriendInvi===void 0?function(){}:_ref$rejectFriendInvi;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),buttonsDisabled=_useState2[0],setButtonsDisabled=_useState2[1];var handleAcceptInvitation=function handleAcceptInvitation(){console.log(id);acceptFriendInvitation({id:id});setButtonsDisabled(true);};var handleRejectInvitation=function handleRejectInvitation(){console.log(id);rejectFriendInvitation({id:id});setButtonsDisabled(true);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* default */],{title:mail,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{width:\"100%\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{sx:{width:\"100%\",height:\"42px\",marginTop:\"10px\",display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Avatar,{username:username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{sx:{marginLeft:\"7px\",fontWeight:700,color:\"#8e9297\",flexGrow:1},variant:\"subtitle1\",children:username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PendingInvitationsList_InvitationDecisionButtons,{disabled:buttonsDisabled,acceptInvitationHandler:handleAcceptInvitation,rejectInvitationHandler:handleRejectInvitation})]})})});};var PendingInvitationsListItem_mapActionsToProps=function mapActionsToProps(dispatch){return Object(objectSpread2[\"a\" /* default */])({},friendsActions_getActions(dispatch));};/* harmony default export */ var PendingInvitationsList_PendingInvitationsListItem = (Object(es[\"b\" /* connect */])(null,PendingInvitationsListItem_mapActionsToProps)(PendingInvitationsListItem_PendingInvitationsListItem));\n// CONCATENATED MODULE: ./src/Dashboard/FriendsSideBar/PendingInvitationsList/PendingInvitationsList.js\nvar PendingInvitationsList_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({width:\"100%\",height:\"22%\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",overflow:\"auto\"});var PendingInvitationsList_PendingInvitationsList=function PendingInvitationsList(_ref){var pendingFriendsInvitations=_ref.pendingFriendsInvitations;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PendingInvitationsList_MainContainer,{children:pendingFriendsInvitations.map(function(invitation){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PendingInvitationsList_PendingInvitationsListItem,{id:invitation._id,username:invitation.senderId.username,mail:invitation.senderId.mail},invitation._id);})});};var PendingInvitationsList_mapStoreStateToProps=function mapStoreStateToProps(_ref2){var friends=_ref2.friends;return Object(objectSpread2[\"a\" /* default */])({},friends);};/* harmony default export */ var FriendsSideBar_PendingInvitationsList_PendingInvitationsList = (Object(es[\"b\" /* connect */])(PendingInvitationsList_mapStoreStateToProps)(PendingInvitationsList_PendingInvitationsList));\n// CONCATENATED MODULE: ./src/Dashboard/FriendsSideBar/FriendsSideBar.js\nvar FriendsSideBar_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({width:\"224px\",height:\"100%\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",backgroundColor:\"#141414\"});var FriendsSideBar_FriendsSideBar=function FriendsSideBar(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FriendsSideBar_MainContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsSideBar_AddFriendButton,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsSideBar_FriendsTitle,{title:\"Private Messages\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsSideBar_FriendsList_FriendsList,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsSideBar_FriendsTitle,{title:\"Invitations\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsSideBar_PendingInvitationsList_PendingInvitationsList,{})]});};/* harmony default export */ var Dashboard_FriendsSideBar_FriendsSideBar = (FriendsSideBar_FriendsSideBar);\n// CONCATENATED MODULE: ./src/Dashboard/Messenger/WelcomeMessage.js\nvar WelcomeMessage_Wrapper=Object(styled[\"a\" /* default */])(\"div\")({flexGrow:1,height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"});var WelcomeMessage_WelcomeMessage=function WelcomeMessage(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WelcomeMessage_Wrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",sx:{color:\"#FFFFFF\"},children:\"To start chatting - choose conversation\"})});};/* harmony default export */ var Messenger_WelcomeMessage = (WelcomeMessage_WelcomeMessage);\n// CONCATENATED MODULE: ./src/Dashboard/Messenger/Messages/MessagesHeader.js\nvar MessagesHeader_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({width:\"98%\",display:\"column\",marginTop:\"10px\"});var MessagesHeader_MessagesHeader=function MessagesHeader(_ref){var _ref$name=_ref.name,name=_ref$name===void 0?\"\":_ref$name;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MessagesHeader_MainContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Avatar,{large:true,username:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h4\",sx:{fontWeight:\"bold\",color:\"white\",marginLeft:\"5px\",marginRight:\"5px\"},children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{sx:{color:\"#b9bbbe\",marginLeft:\"5px\",marginRight:\"5px\"},children:[\"This is the beginning of your conversation with \",name]})]});};/* harmony default export */ var Messages_MessagesHeader = (MessagesHeader_MessagesHeader);\n// CONCATENATED MODULE: ./src/Dashboard/Messenger/Messages/DUMMY_MESSAGES.js\nvar DUMMY_MESSAGES=[{_id:1,content:\"hello\",sameAuthor:false,author:{username:\"Marek\"},date:\"22/01/2022\",sameDay:false},{_id:2,content:\"hello once again\",sameAuthor:true,author:{username:\"Marek\"},date:\"22/01/2022\",sameDay:true},{_id:3,content:\"hello third time\",sameAuthor:true,author:{username:\"Marek\"},date:\"23/01/2022\",sameDay:false},{_id:4,content:\"hello response first time\",sameAuthor:false,author:{username:\"John\"},date:\"23/01/2022\",sameDay:true},{_id:5,content:\"hello response third time\",sameAuthor:true,author:{username:\"John\"},date:\"24/01/2022\",sameDay:false}];/* harmony default export */ var Messages_DUMMY_MESSAGES = (DUMMY_MESSAGES);\n// CONCATENATED MODULE: ./src/Dashboard/Messenger/Messages/Message.js\nvar Message_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({width:\"97%\",display:\"flex\",marginTop:\"10px\"});var AvatarContainer=Object(styled[\"a\" /* default */])(\"div\")({width:\"70px\"});var MessageContainer=Object(styled[\"a\" /* default */])(\"div\")({display:\"flex\",flexDirection:\"column\"});var MessageContent=Object(styled[\"a\" /* default */])(\"div\")({color:\"#DCDDDE\"});var SameAuthorMessageContent=Object(styled[\"a\" /* default */])(\"div\")({color:\"#DCDDDE\",width:\"97%\"});var SameAuthorMessageText=Object(styled[\"a\" /* default */])(\"span\")({marginLeft:\"70px\"});var Message_Message=function Message(_ref){var content=_ref.content,sameAuthor=_ref.sameAuthor,username=_ref.username,date=_ref.date,sameDay=_ref.sameDay;if(sameAuthor&&sameDay){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SameAuthorMessageContent,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SameAuthorMessageText,{children:content})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Message_MainContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarContainer,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Avatar,{username:username})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MessageContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{style:{fontSize:\"16px\",color:\"white\"},children:[username,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:\"12px\",color:\"#72767d\"},children:date})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MessageContent,{children:content})]})]});};/* harmony default export */ var Messages_Message = (Message_Message);\n// CONCATENATED MODULE: ./src/Dashboard/Messenger/Messages/DateSeparator.js\nvar Separator=Object(styled[\"a\" /* default */])(\"div\")({width:\"95%\",backgroundColor:\"#b9bbbe\",height:\"1px\",position:\"relative\",marginTop:\"20px\",marginBottom:\"10px\"});var DateLabel=Object(styled[\"a\" /* default */])(\"span\")({backgroundColor:\"#36393f\",position:\"absolute\",left:\"45%\",top:\"-10px\",color:\"#b9bbbe\",padding:\"0 5px\",fontSize:\"14px\"});var DateSeparator_DateSeparator=function DateSeparator(_ref){var date=_ref.date;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Separator,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DateLabel,{children:date})});};/* harmony default export */ var Messages_DateSeparator = (DateSeparator_DateSeparator);\n// CONCATENATED MODULE: ./src/Dashboard/Messenger/Messages/Messages.js\nvar Messages_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({height:\"calc(100% - 60px)\",overflow:\"auto\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\"});var convertDateToHumanReadable=function convertDateToHumanReadable(date,format){var map={mm:date.getMonth()+1,dd:date.getDate(),yy:date.getFullYear().toString().slice(-2),yyyy:date.getFullYear()};return format.replace(/mm|dd|yy|yyy/gi,function(matched){return map[matched];});};var Messages_Messages=function Messages(_ref){var chosenChatDetails=_ref.chosenChatDetails,messages=_ref.messages;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Messages_MainContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_MessagesHeader,{name:chosenChatDetails===null||chosenChatDetails===void 0?void 0:chosenChatDetails.name}),messages.map(function(message,index){var sameAuthor=index>0&&messages[index].author._id===messages[index-1].author._id;var sameDay=index>0&&convertDateToHumanReadable(new Date(message.date),\"dd/mm/yy\")===convertDateToHumanReadable(new Date(messages[index-1].date),\"dd/mm/yy\");return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{width:\"97%\"},children:[(!sameDay||index===0)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_DateSeparator,{date:convertDateToHumanReadable(new Date(message.date),\"dd/mm/yy\")}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_Message,{content:message.content,username:message.author.username,sameAuthor:sameAuthor,date:convertDateToHumanReadable(new Date(message.date),\"dd/mm/yy\"),sameDay:sameDay})]},message._id);})]});};var Messages_mapStoreStateToProps=function mapStoreStateToProps(_ref2){var chat=_ref2.chat;return Object(objectSpread2[\"a\" /* default */])({},chat);};/* harmony default export */ var Messenger_Messages_Messages = (Object(es[\"b\" /* connect */])(Messages_mapStoreStateToProps)(Messages_Messages));\n// CONCATENATED MODULE: ./src/Dashboard/Messenger/NewMessageInput.js\nvar NewMessageInput_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({height:\"60px\",width:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"});var NewMessageInput_Input=Object(styled[\"a\" /* default */])(\"input\")({backgroundColor:\"#2f3136\",width:\"98%\",height:\"44px\",color:\"white\",border:\"none\",borderRadius:\"8px\",fontSize:\"14px\",padding:\"0 10px\"});var NewMessageInput_NewMessageInput=function NewMessageInput(_ref){var chosenChatDetails=_ref.chosenChatDetails;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var handleMessageValueChange=function handleMessageValueChange(event){setMessage(event.target.value);};var handleKeyPressed=function handleKeyPressed(event){if(event.key===\"Enter\"){handleSendMessage();}};var handleSendMessage=function handleSendMessage(){if(message.length>0){sendDirectMessage({receiverUserId:chosenChatDetails.id,content:message});setMessage(\"\");}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NewMessageInput_MainContainer,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NewMessageInput_Input,{placeholder:\"Write message to \".concat(chosenChatDetails.name),value:message,onChange:handleMessageValueChange,onKeyDown:handleKeyPressed})});};var NewMessageInput_mapStoreStateToProps=function mapStoreStateToProps(_ref2){var chat=_ref2.chat;return Object(objectSpread2[\"a\" /* default */])({},chat);};/* harmony default export */ var Messenger_NewMessageInput = (Object(es[\"b\" /* connect */])(NewMessageInput_mapStoreStateToProps)(NewMessageInput_NewMessageInput));\n// CONCATENATED MODULE: ./src/Dashboard/Messenger/MessengerContent.js\nvar MessengerContent_Wrapper=Object(styled[\"a\" /* default */])(\"div\")({flexGrow:1});var MessengerContent_MessengerContent=function MessengerContent(_ref){var chosenChatDetails=_ref.chosenChatDetails;Object(react[\"useEffect\"])(function(){getDirectChatHistory({receiverUserId:chosenChatDetails.id});},[chosenChatDetails]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MessengerContent_Wrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messenger_Messages_Messages,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messenger_NewMessageInput,{})]});};/* harmony default export */ var Messenger_MessengerContent = (MessengerContent_MessengerContent);\n// CONCATENATED MODULE: ./src/Dashboard/Messenger/Messenger.js\nvar Messenger_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({flexGrow:1,backgroundColor:\"#1B1B1B\",marginTop:\"48px\",display:\"flex\"});var Messenger_Messenger=function Messenger(_ref){var chosenChatDetails=_ref.chosenChatDetails;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messenger_MainContainer,{children:!chosenChatDetails?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messenger_WelcomeMessage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messenger_MessengerContent,{chosenChatDetails:chosenChatDetails})});};var Messenger_mapStoreStateToProps=function mapStoreStateToProps(_ref2){var chat=_ref2.chat;return Object(objectSpread2[\"a\" /* default */])({},chat);};/* harmony default export */ var Dashboard_Messenger_Messenger = (Object(es[\"b\" /* connect */])(Messenger_mapStoreStateToProps)(Messenger_Messenger));\n// EXTERNAL MODULE: ./node_modules/@mui/material/Menu/Menu.js + 7 modules\nvar Menu = __webpack_require__(296);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/MenuItem/MenuItem.js + 4 modules\nvar MenuItem = __webpack_require__(300);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/MoreVert.js\nvar MoreVert = __webpack_require__(144);\nvar MoreVert_default = /*#__PURE__*/__webpack_require__.n(MoreVert);\n\n// CONCATENATED MODULE: ./src/Dashboard/AppBar/DropdownMenu.js\nvar DropdownMenu_BasicMenu=function BasicMenu(_ref){var audioOnly=_ref.audioOnly,setAudioOnly=_ref.setAudioOnly;var _React$useState=react[\"useState\"](null),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var open=Boolean(anchorEl);var handleMenuOpen=function handleMenuOpen(event){setAnchorEl(event.currentTarget);};var handleMenuClose=function handleMenuClose(){setAnchorEl(null);};var handleAudioOnlyChange=function handleAudioOnlyChange(){setAudioOnly(!audioOnly);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleMenuOpen,style:{color:\"#FFFFFF\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreVert_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */],{id:\"basic-menu\",anchorEl:anchorEl,open:open,onClose:handleMenuClose,MenuListProps:{\"aria-labelledby\":\"basic-button\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{onClick:logout,style:{color:\"#000000\"},children:\"Logout\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{onClick:handleAudioOnlyChange,style:{color:\"#000000\"},children:audioOnly?\"Audio Only Enabled\":\"Audio Only Disabled\"})]})]});};var DropdownMenu_mapStoreStateToProps=function mapStoreStateToProps(_ref2){var room=_ref2.room;return Object(objectSpread2[\"a\" /* default */])({},room);};var DropdownMenu_mapActionsToProps=function mapActionsToProps(dispatch){return Object(objectSpread2[\"a\" /* default */])({},roomActions_getActions(dispatch));};/* harmony default export */ var DropdownMenu = (Object(es[\"b\" /* connect */])(DropdownMenu_mapStoreStateToProps,DropdownMenu_mapActionsToProps)(DropdownMenu_BasicMenu));\n// CONCATENATED MODULE: ./src/Dashboard/AppBar/ChosenOptionLabel.js\nvar ChosenOptionLabel_ChosenOptionLabel=function ChosenOptionLabel(_ref){var name=_ref.name;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{sx:{fontSize:\"16px\",color:\"white\",fontWeight:\"bold\"},children:\"\".concat(name?\"Chosen conversation: \".concat(name):\"\")});};var ChosenOptionLabel_mapStoreStateToProps=function mapStoreStateToProps(state){var _state$chat$chosenCha;return{name:(_state$chat$chosenCha=state.chat.chosenChatDetails)===null||_state$chat$chosenCha===void 0?void 0:_state$chat$chosenCha.name};};/* harmony default export */ var AppBar_ChosenOptionLabel = (Object(es[\"b\" /* connect */])(ChosenOptionLabel_mapStoreStateToProps)(ChosenOptionLabel_ChosenOptionLabel));\n// CONCATENATED MODULE: ./src/Dashboard/AppBar/AppBar.js\nvar AppBar_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({position:\"absolute\",right:\"0\",top:\"0\",height:\"48px\",borderBottom:\"1px solid black\",backgroundColor:\"#1B1B1B\",width:\"calc(100% - 326px)\",display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",padding:\"0 15px\"});var AppBar_AppBar=function AppBar(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AppBar_MainContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AppBar_ChosenOptionLabel,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DropdownMenu,{})]});};/* harmony default export */ var Dashboard_AppBar_AppBar = (AppBar_AppBar);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/CloseFullscreen.js\nvar CloseFullscreen = __webpack_require__(146);\nvar CloseFullscreen_default = /*#__PURE__*/__webpack_require__.n(CloseFullscreen);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/OpenInFull.js\nvar OpenInFull = __webpack_require__(145);\nvar OpenInFull_default = /*#__PURE__*/__webpack_require__.n(OpenInFull);\n\n// CONCATENATED MODULE: ./src/Dashboard/Room/ResizeRoomButton.js\nvar ResizeRoomButton_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({position:\"absolute\",bottom:\"3px\",right:\"3px\"});var ResizeRoomButton_ResizeRoomButton=function ResizeRoomButton(_ref){var isRoomMinimized=_ref.isRoomMinimized,handleRoomResize=_ref.handleRoomResize;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ResizeRoomButton_MainContainer,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{color:\"white\"},onClick:handleRoomResize,children:isRoomMinimized?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OpenInFull_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CloseFullscreen_default.a,{})})});};/* harmony default export */ var Room_ResizeRoomButton = (ResizeRoomButton_ResizeRoomButton);\n// CONCATENATED MODULE: ./src/Dashboard/Room/Video.js\nvar Video_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({height:\"50%\",width:\"50%\",backgroundColor:\"black\",borderRadius:\"8px\"});var VideoEl=Object(styled[\"a\" /* default */])(\"video\")({width:\"100%\",height:\"100%\"});var Video_Video=function Video(_ref){var stream=_ref.stream,isLocalStream=_ref.isLocalStream;var videoRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){var video=videoRef.current;video.srcObject=stream;video.onloadedmetadata=function(){video.play();};},[stream]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Video_MainContainer,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoEl,{ref:videoRef,autoPlay:true,muted:isLocalStream?true:false})});};/* harmony default export */ var Room_Video = (Video_Video);\n// CONCATENATED MODULE: ./src/Dashboard/Room/VideosContainer.js\nvar VideosContainer_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({height:\"85%\",width:\"100%\",display:\"flex\",flexWrap:\"wrap\"});var VideosContainer_VideosContainer=function VideosContainer(_ref){var localStream=_ref.localStream,remoteStreams=_ref.remoteStreams,screenSharingStream=_ref.screenSharingStream;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(VideosContainer_MainContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room_Video,{stream:screenSharingStream?screenSharingStream:localStream,isLocalStream:true}),remoteStreams.map(function(stream){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room_Video,{stream:stream},stream.id);})]});};var VideosContainer_mapStoreStateToProps=function mapStoreStateToProps(_ref2){var room=_ref2.room;return Object(objectSpread2[\"a\" /* default */])({},room);};/* harmony default export */ var Room_VideosContainer = (Object(es[\"b\" /* connect */])(VideosContainer_mapStoreStateToProps)(VideosContainer_VideosContainer));\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Videocam.js\nvar Videocam = __webpack_require__(147);\nvar Videocam_default = /*#__PURE__*/__webpack_require__.n(Videocam);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/VideocamOff.js\nvar VideocamOff = __webpack_require__(148);\nvar VideocamOff_default = /*#__PURE__*/__webpack_require__.n(VideocamOff);\n\n// CONCATENATED MODULE: ./src/Dashboard/Room/RoomButtons/CameraButton.js\nvar CameraButton_CameraButton=function CameraButton(_ref){var localStream=_ref.localStream;var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),cameraEnabled=_useState2[0],setCameraEnabled=_useState2[1];var handleToggleCamera=function handleToggleCamera(){localStream.getVideoTracks()[0].enabled=!cameraEnabled;setCameraEnabled(!cameraEnabled);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleToggleCamera,style:{color:\"white\"},children:cameraEnabled?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Videocam_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideocamOff_default.a,{})});};/* harmony default export */ var RoomButtons_CameraButton = (CameraButton_CameraButton);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Mic.js\nvar Mic = __webpack_require__(149);\nvar Mic_default = /*#__PURE__*/__webpack_require__.n(Mic);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/MicOff.js\nvar MicOff = __webpack_require__(150);\nvar MicOff_default = /*#__PURE__*/__webpack_require__.n(MicOff);\n\n// CONCATENATED MODULE: ./src/Dashboard/Room/RoomButtons/MicButton.js\nvar MicButton_MicButton=function MicButton(_ref){var localStream=_ref.localStream;var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),micEnabled=_useState2[0],setMicEnabled=_useState2[1];var handleToggleMic=function handleToggleMic(){localStream.getAudioTracks()[0].enabled=!micEnabled;setMicEnabled(!micEnabled);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleToggleMic,style:{color:\"white\"},children:micEnabled?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Mic_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicOff_default.a,{})});};/* harmony default export */ var RoomButtons_MicButton = (MicButton_MicButton);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Close.js\nvar Close = __webpack_require__(151);\nvar Close_default = /*#__PURE__*/__webpack_require__.n(Close);\n\n// CONCATENATED MODULE: ./src/Dashboard/Room/RoomButtons/CloseRoomButton.js\nvar CloseRoomButton_CloseRoomButton=function CloseRoomButton(){var handleLeaveRoom=function handleLeaveRoom(){roomHandler_leaveRoom();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleLeaveRoom,style:{color:\"white\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{})});};/* harmony default export */ var RoomButtons_CloseRoomButton = (CloseRoomButton_CloseRoomButton);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/ScreenShare.js\nvar ScreenShare = __webpack_require__(153);\nvar ScreenShare_default = /*#__PURE__*/__webpack_require__.n(ScreenShare);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/StopScreenShare.js\nvar StopScreenShare = __webpack_require__(152);\nvar StopScreenShare_default = /*#__PURE__*/__webpack_require__.n(StopScreenShare);\n\n// CONCATENATED MODULE: ./src/Dashboard/Room/RoomButtons/ScreenShareButton.js\nvar ScreenShareButton_constraints={audio:false,video:true};var ScreenShareButton_ScreenShareButton=function ScreenShareButton(_ref){var localStream=_ref.localStream,screenSharingStream=_ref.screenSharingStream,setScreenSharingStream=_ref.setScreenSharingStream,isScreenSharingActive=_ref.isScreenSharingActive;var handleScreenShareToggle=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var stream;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(isScreenSharingActive){_context.next=14;break;}stream=null;_context.prev=2;_context.next=5;return navigator.mediaDevices.getDisplayMedia(ScreenShareButton_constraints);case 5:stream=_context.sent;_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);console.log(\"error occured when trying to get an access to screen share stream\");case 11:if(stream){setScreenSharingStream(stream);switchOutgoingTracks(stream);}_context.next=17;break;case 14:switchOutgoingTracks(localStream);screenSharingStream.getTracks().forEach(function(t){return t.stop();});setScreenSharingStream(null);case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return function handleScreenShareToggle(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleScreenShareToggle,style:{color:\"white\"},children:isScreenSharingActive?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StopScreenShare_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ScreenShare_default.a,{})});};/* harmony default export */ var RoomButtons_ScreenShareButton = (ScreenShareButton_ScreenShareButton);\n// CONCATENATED MODULE: ./src/Dashboard/Room/RoomButtons/RoomButtons.js\nvar RoomButtons_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({height:\"15%\",width:\"100%\",backgroundColor:\"#67063c\",borderTopLeftRadius:\"8px\",borderTopRightRadius:\"8px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"});var RoomButtons_RoomButtons=function RoomButtons(props){var localStream=props.localStream,isUserJoinedWithOnlyAudio=props.isUserJoinedWithOnlyAudio;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(RoomButtons_MainContainer,{children:[!isUserJoinedWithOnlyAudio&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomButtons_ScreenShareButton,Object(objectSpread2[\"a\" /* default */])({},props)),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomButtons_MicButton,{localStream:localStream}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomButtons_CloseRoomButton,{}),!isUserJoinedWithOnlyAudio&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomButtons_CameraButton,{localStream:localStream})]});};var RoomButtons_mapStoreStateToProps=function mapStoreStateToProps(_ref){var room=_ref.room;return Object(objectSpread2[\"a\" /* default */])({},room);};var RoomButtons_mapActionsToProps=function mapActionsToProps(dispatch){return Object(objectSpread2[\"a\" /* default */])({},roomActions_getActions(dispatch));};/* harmony default export */ var Room_RoomButtons_RoomButtons = (Object(es[\"b\" /* connect */])(RoomButtons_mapStoreStateToProps,RoomButtons_mapActionsToProps)(RoomButtons_RoomButtons));\n// CONCATENATED MODULE: ./src/Dashboard/Room/Room.js\nvar Room_MainContainer=Object(styled[\"a\" /* default */])(\"div\")({position:\"absolute\",borderRadius:\"8px\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"#141414\"});var fullScreenRoomStyle={width:\"100%\",height:\"100vh\"};var minimizedRoomStyle={bottom:\"0px\",right:\"0px\",width:\"30%\",height:\"40vh\"};var Room_Room=function Room(){var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isRoomMinimized=_useState2[0],setIsRoomMinimized=_useState2[1];var roomResizeHandler=function roomResizeHandler(){setIsRoomMinimized(!isRoomMinimized);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Room_MainContainer,{style:isRoomMinimized?minimizedRoomStyle:fullScreenRoomStyle,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room_VideosContainer,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room_RoomButtons_RoomButtons,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room_ResizeRoomButton,{isRoomMinimized:isRoomMinimized,handleRoomResize:roomResizeHandler})]});};/* harmony default export */ var Dashboard_Room_Room = (Room_Room);\n// CONCATENATED MODULE: ./src/Dashboard/Dashboard.js\nvar Dashboard_Wrapper=Object(styled[\"a\" /* default */])(\"div\")({width:\"100%\",height:\"100vh\",display:\"flex\"});var Dashboard_Dashboard=function Dashboard(_ref){var setUserDetails=_ref.setUserDetails,isUserInRoom=_ref.isUserInRoom;Object(react[\"useEffect\"])(function(){var userDetails=localStorage.getItem(\"user\");if(!userDetails){logout();}else{setUserDetails(JSON.parse(userDetails));socketConnection_connectWithSocketServer(JSON.parse(userDetails));}},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dashboard_Wrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dashboard_SideBar_SideBar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dashboard_FriendsSideBar_FriendsSideBar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dashboard_Messenger_Messenger,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dashboard_AppBar_AppBar,{}),isUserInRoom&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dashboard_Room_Room,{})]});};var Dashboard_mapStoreStateToProps=function mapStoreStateToProps(_ref2){var room=_ref2.room;return Object(objectSpread2[\"a\" /* default */])({},room);};var Dashboard_mapActionsToProps=function mapActionsToProps(dispatch){return Object(objectSpread2[\"a\" /* default */])({},authActions_getActions(dispatch));};/* harmony default export */ var src_Dashboard_Dashboard = (Object(es[\"b\" /* connect */])(Dashboard_mapStoreStateToProps,Dashboard_mapActionsToProps)(Dashboard_Dashboard));\n// EXTERNAL MODULE: ./node_modules/@mui/material/Alert/Alert.js + 6 modules\nvar Alert = __webpack_require__(297);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Snackbar/Snackbar.js + 4 modules\nvar Snackbar = __webpack_require__(298);\n\n// CONCATENATED MODULE: ./src/shared/components/AlertNotification.js\nvar AlertNotification_AlertNotification=function AlertNotification(_ref){var showAlertMessage=_ref.showAlertMessage,closeAlertMessage=_ref.closeAlertMessage,alertMessageContent=_ref.alertMessageContent;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Snackbar[\"a\" /* default */],{anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},open:showAlertMessage,onClose:closeAlertMessage,autoHideDuration:6000,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{severity:\"info\",children:alertMessageContent})});};var AlertNotification_mapStoreStateToProps=function mapStoreStateToProps(_ref2){var alert=_ref2.alert;return Object(objectSpread2[\"a\" /* default */])({},alert);};var AlertNotification_mapActionsToProps=function mapActionsToProps(dispatch){return Object(objectSpread2[\"a\" /* default */])({},getActions(dispatch));};/* harmony default export */ var components_AlertNotification = (Object(es[\"b\" /* connect */])(AlertNotification_mapStoreStateToProps,AlertNotification_mapActionsToProps)(AlertNotification_AlertNotification));\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(236);\n\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(authPages_LoginPage_LoginPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/register\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(authPages_RegisterPage_RegisterPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/dashboard\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Dashboard_Dashboard,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/dashboard\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AlertNotification,{})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function serviceWorker_register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:store_store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById(\"root\"));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nunregister();\n\n/***/ })\n\n},[[237,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/youngjun827/dev/discord-app/discord-frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/youngjun827/dev/discord-app/discord-frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/youngjun827/dev/discord-app/discord-frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/youngjun827/dev/discord-app/discord-frontend/src/index.css","ignored /Users/youngjun827/dev/discord-app/discord-frontend/node_modules/readable-stream/lib util","ignored /Users/youngjun827/dev/discord-app/discord-frontend/node_modules/readable-stream/lib/internal/streams util","/Users/youngjun827/dev/discord-app/discord-frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/youngjun827/dev/discord-app/discord-frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/youngjun827/dev/discord-app/discord-frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/youngjun827/dev/discord-app/discord-frontend/src/App.css","/Users/youngjun827/dev/discord-app/discord-frontend/src/shared/components/AuthBox.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/shared/components/CustomPrimaryButton.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/shared/components/RedirectInfo.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/authPages/LoginPage/LoginPageFooter.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/authPages/LoginPage/LoginPageHeader.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/shared/components/InputWithLabel.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/authPages/LoginPage/LoginPageInputs.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/shared/utils/validators.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/shared/utils/auth.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/api.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/actions/alertActions.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/actions/authActions.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/authPages/LoginPage/LoginPage.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/authPages/RegisterPage/RegisterPageInputs.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/authPages/RegisterPage/RegisterPageFooter.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/authPages/RegisterPage/RegisterPage.js","/Users/youngjun827/dev/discord-app/discord-frontend/node_modules/url-loader/dist/cjs.js??ref--5-oneOf-1!/Users/youngjun827/dev/discord-app/discord-frontend/src/assets/JOO_white.png","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/SideBar/MainPageButton.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/reducers/authReducer.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/reducers/alertReducer.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/actions/friendsActions.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/reducers/friendsReducer.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/actions/chatActions.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/reducers/chatReducer.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/actions/roomActions.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/reducers/roomReducer.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/store/store.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/shared/utils/chat.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/realtimeCommunication/webRTCHandler.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/realtimeCommunication/socketConnection.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/realtimeCommunication/roomHandler.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/SideBar/CreateRoomButton.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/shared/components/Avatar.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/SideBar/ActiveRoomButton.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/SideBar/SideBar.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/FriendsSideBar/AddFriendDialog.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/FriendsSideBar/AddFriendButton.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/FriendsSideBar/FriendsTitle.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/FriendsSideBar/FriendsList/OnlineIndicator.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/FriendsSideBar/FriendsList/FriendsListItem.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/FriendsSideBar/FriendsList/FriendsList.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/FriendsSideBar/PendingInvitationsList/InvitationDecisionButtons.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/FriendsSideBar/PendingInvitationsList/PendingInvitationsListItem.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/FriendsSideBar/PendingInvitationsList/PendingInvitationsList.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/FriendsSideBar/FriendsSideBar.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Messenger/WelcomeMessage.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Messenger/Messages/MessagesHeader.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Messenger/Messages/DUMMY_MESSAGES.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Messenger/Messages/Message.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Messenger/Messages/DateSeparator.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Messenger/Messages/Messages.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Messenger/NewMessageInput.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Messenger/MessengerContent.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Messenger/Messenger.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/AppBar/DropdownMenu.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/AppBar/ChosenOptionLabel.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/AppBar/AppBar.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Room/ResizeRoomButton.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Room/Video.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Room/VideosContainer.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Room/RoomButtons/CameraButton.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Room/RoomButtons/MicButton.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Room/RoomButtons/CloseRoomButton.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Room/RoomButtons/ScreenShareButton.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Room/RoomButtons/RoomButtons.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Room/Room.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/Dashboard/Dashboard.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/shared/components/AlertNotification.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/App.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/serviceWorker.js","/Users/youngjun827/dev/discord-app/discord-frontend/src/index.js"],"names":["BoxWrapper","styled","width","height","display","alignItems","justifyContent","background","AuthBox","props","bgcolor","borderRadius","boxShadow","flexDirection","padding","children","CustomPrimaryButton","label","additionalStyles","disabled","onClick","color","textTransform","fontSize","fontWeight","RedirectText","cursor","RedirectInfo","text","redirectText","redirectHandler","getFormNotValidMessage","getFormValidMessage","LoginPageFooter","handleLogin","isFormValid","history","useHistory","handlePushToRegisterPage","push","marginTop","backgroundColor","LoginPageHeader","Wrapper","Label","Input","flexGrow","border","margin","InputWithLabel","value","setValue","type","placeholder","handleValueChange","event","target","LoginPageInputs","mail","setMail","password","setPassword","validateLoginForm","isMailValid","validateMail","isPasswordValid","validatePassword","validateRegisterForm","username","validateUsername","emailPattern","test","length","logout","localStorage","clear","window","location","pathname","apiClient","axios","create","baseURL","interceptors","request","use","config","userDetails","getItem","token","JSON","parse","headers","Authorization","err","Promise","reject","login","data","post","error","exception","register","sendFriendInvitation","checkResponseCode","acceptFriendInvitation","rejectFriendInvitation","responseCode","response","status","alertActions","OPEN_ALERT_MESSAGE","CLOSE_ALERT_MESSAGE","getActions","dispatch","openAlertMessage","content","closeAlertMessage","authActions","SET_USER_DETAILS","setUserDetails","api","console","log","setItem","stringify","LoginPage","useState","setIsFormValid","useEffect","mapActionsToProps","connect","RegisterPageInputs","setUsername","RegisterPageFooter","handleRegister","handlePushToLoginPage","RegisterPage","MainPageButton","minWidth","Logo","initState","reducer","state","action","showAlertMessage","alertMessageContent","friendsActions","SET_FRIENDS","SET_PENDING_FRIENDS_INVITATIONS","SET_ONLINE_USERS","closeDialogHandler","setPendingFriendsInvitations","pendingFriendsInvitations","setFriends","friends","setOnlineUsers","onlineUsers","chatTypes","DIRECT","GROUP","chatActions","SET_CHOSEN_CHAT_DETAILS","SET_MESSAGES","SET_CHAT_TYPE","setChosenChatDetails","details","chatType","chatDetails","setMessages","messages","chosenChatDetails","roomActions","OPEN_ROOM","SET_ROOM_DETAILS","SET_ACTIVE_ROOMS","SET_LOCAL_STREAM","SET_REMOTE_STREAMS","SET_AUDIO_ONLY","SET_SCREEN_SHARE_STREAM","SET_IS_USER_JOINED_WITH_ONLY_AUDIO","setOpenRoom","isUserRoomCreator","isUserInRoom","setAudioOnly","audioOnly","setScreenSharingStream","stream","setRoomDetails","roomDetails","setActiveRooms","activeRooms","setLocalStream","localStream","setRemoteStreams","remoteStreams","isScreenSharingActive","screenSharingStream","setIsUserJoinedOnlyWithAudio","onlyWithAudio","isUserJoinedWithOnlyAudio","rootReducer","combineReducers","auth","authReducer","alert","alertReducer","friendsReducer","chat","chatReducer","room","roomReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","updateDirectChatHistoryIfActive","participants","receiverId","getState","id","userId","_id","usersInCoversation","updateChatHistoryIfSameConversationActive","result","every","participantId","includes","getConfiguration","turnIceServers","warn","iceServers","urls","onlyAudioConstraints","audio","video","defaultConstraints","getLocalStreamPreview","onlyAudio","callbackFunc","constraints","navigator","mediaDevices","getUserMedia","then","catch","peers","prepareNewPeerConnection","connUserSocketId","isInitiator","Peer","initiator","on","signalData","signal","socketConnection","remoteStream","addNewRemoteStream","handleSignalingData","newRemoteStreams","closeAllConnections","Object","entries","forEach","mappedObject","destroy","handleParticipantLeftRoom","filter","switchOutgoingTracks","socket_id","index","streams","getTracks","index2","kind","replaceTrack","socket","connectWithSocketServer","jwtToken","io","pendingInvitations","roomHandler","webRTCHandler","emit","sendDirectMessage","getDirectChatHistory","createNewRoom","joinRoom","leaveRoom","signalPeerData","successCalbackFunc","newRoomCreated","updateActiveRooms","rooms","isRoomCreatedByMe","roomCreator","creatorUsername","f","roomId","track","stop","CreateRoomButton","createNewRoomHandler","AvatarPreview","Avatar","large","substring","ActiveRoomButton","amountOfParticipants","handleJoinActiveRoom","activeRoomButtonDisabled","roomTitle","MainContainer","SideBar","map","mapStoreStateToProps","AddFriendDialog","isDialogOpen","handleSendInvitation","targetMailAddress","handleCloseDialog","marginLeft","marginRight","marginBottom","AddFriendButton","setIsDialogOpen","handleOpenAddFriendDialog","handleCloseAddFriendDialog","FriendsTitle","title","OnlineIndicator","position","right","FriendsListItem","isOnline","handleChooseActiveConversation","name","checkOnlineUsers","isUserOnline","find","user","FriendsList","InvitationDecisionButtons","acceptInvitationHandler","rejectInvitationHandler","PendingInvitationsListItem","buttonsDisabled","setButtonsDisabled","handleAcceptInvitation","handleRejectInvitation","overflow","PendingInvitationsList","invitation","senderId","FriendsSideBar","WelcomeMessage","MessagesHeader","DUMMY_MESSAGES","sameAuthor","author","date","sameDay","AvatarContainer","MessageContainer","MessageContent","SameAuthorMessageContent","SameAuthorMessageText","Message","Separator","DateLabel","left","top","DateSeparator","convertDateToHumanReadable","format","mm","getMonth","dd","getDate","yy","getFullYear","toString","slice","yyyy","replace","matched","Messages","message","Date","NewMessageInput","setMessage","handleMessageValueChange","handleKeyPressed","key","handleSendMessage","receiverUserId","MessengerContent","Messenger","BasicMenu","React","anchorEl","setAnchorEl","open","Boolean","handleMenuOpen","currentTarget","handleMenuClose","handleAudioOnlyChange","ChosenOptionLabel","borderBottom","AppBar","bottom","ResizeRoomButton","isRoomMinimized","handleRoomResize","VideoEl","Video","isLocalStream","videoRef","useRef","current","srcObject","onloadedmetadata","play","flexWrap","VideosContainer","CameraButton","cameraEnabled","setCameraEnabled","handleToggleCamera","getVideoTracks","enabled","MicButton","micEnabled","setMicEnabled","handleToggleMic","getAudioTracks","CloseRoomButton","handleLeaveRoom","ScreenShareButton","handleScreenShareToggle","getDisplayMedia","t","borderTopLeftRadius","borderTopRightRadius","RoomButtons","fullScreenRoomStyle","minimizedRoomStyle","Room","setIsRoomMinimized","roomResizeHandler","Dashboard","AlertNotification","vertical","horizontal","App","isLocalhost","hostname","match","process","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","fetch","contentType","get","indexOf","unregister","reload","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","import React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst BoxWrapper = styled(\"div\")({\r\n  width: \"100%\",\r\n  height: \"100vh\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  background: \"#67063c\",\r\n});\r\n\r\nconst AuthBox = (props) => {\r\n  return (\r\n    <BoxWrapper>\r\n      <Box\r\n        sx={{\r\n          width: 700,\r\n          height: 400,\r\n          bgcolor: \"#1B1B1B\",\r\n          borderRadius: \"5px\",\r\n          boxShadow: \"0 2px 10px 0 rgb(0 0 0 / 20%)\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          padding: \"25px\",\r\n        }}\r\n      >\r\n        {props.children}\r\n      </Box>\r\n    </BoxWrapper>\r\n  );\r\n};\r\n\r\nexport default AuthBox;\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\nconst CustomPrimaryButton = ({\r\n  // destructuring assignment on the props\r\n  label,\r\n  additionalStyles,\r\n  disabled,\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <Button\r\n      variant=\"contained\"\r\n      sx={{\r\n        bgcolor: \"#67063c\",\r\n        color: \"#FFFFFF\",\r\n        textTransform: \"none\",\r\n        fontSize: \"16px\",\r\n        fontWeight: 500,\r\n        width: \"100%\",\r\n        height: \"40px\",\r\n      }}\r\n      style={additionalStyles ? additionalStyles : {}} // If additional styles are assigned, use that. If not nothing happens.\r\n      disabled={disabled}\r\n      onClick={onClick}\r\n    >\r\n      {label}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default CustomPrimaryButton;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst RedirectText = styled(\"span\")({\r\n  color: \"#e910a7\",\r\n  fontWeight: 500,\r\n  cursor: \"pointer\",\r\n});\r\n\r\nconst RedirectInfo = ({\r\n  text,\r\n  redirectText,\r\n  additionalStyles,\r\n  redirectHandler,\r\n}) => {\r\n  return (\r\n    <Typography\r\n      sx={{ color: \"#72767d\" }}\r\n      style={additionalStyles ? additionalStyles : {}}\r\n      variant=\"subtitle2\"\r\n    >\r\n      {text}\r\n      <RedirectText onClick={redirectHandler}>{redirectText}</RedirectText>\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default RedirectInfo;\r\n","import React from \"react\";\r\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\r\nimport RedirectInfo from \"../../shared/components/RedirectInfo\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Tooltip } from \"@mui/material\";\r\n\r\nconst getFormNotValidMessage = () => {\r\n  return \"Enter correct e-mail address and password should contains between 6 and 12 characters\";\r\n};\r\n\r\nconst getFormValidMessage = () => {\r\n  return \"Press to log in!\";\r\n};\r\n\r\nconst LoginPageFooter = ({ handleLogin, isFormValid }) => {\r\n  const history = useHistory();\r\n\r\n  const handlePushToRegisterPage = () => {\r\n    history.push(\"/register\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip\r\n        title={!isFormValid ? getFormNotValidMessage() : getFormValidMessage()}\r\n      >\r\n        <div>\r\n          <CustomPrimaryButton\r\n            label=\"Log in\"\r\n            additionalStyles={{ marginTop: \"30px\", backgroundColor: \"#67063c\" }}\r\n            disabled={!isFormValid}\r\n            onClick={handleLogin}\r\n          />\r\n        </div>\r\n      </Tooltip>\r\n      <RedirectInfo\r\n        text=\"Need an account? \"\r\n        redirectText=\"Create an account\"\r\n        additionalStyles={{ marginTop: \"5px\" }}\r\n        redirectHandler={handlePushToRegisterPage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPageFooter;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst LoginPageHeader = () => {\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" sx={{ color: \"#FFFFFF\" }}>\r\n        Welcome Back!\r\n      </Typography>\r\n      <Typography sx={{ color: \"#E1E1E1\" }}>\r\n        We are happy that you are with us!\r\n      </Typography>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPageHeader;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst Wrapper = styled(\"div\")({\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  flexDirection: \"column\",\r\n  width: \"100%\",\r\n});\r\n\r\nconst Label = styled(\"p\")({\r\n  color: \"#E1E1E1\",\r\n  textTransform: \"uppercase\",\r\n  fontWeight: \"600\",\r\n  fontSize: \"16px\",\r\n});\r\n\r\nconst Input = styled(\"input\")({\r\n  flexGrow: 1,\r\n  height: \"40px\",\r\n  border: \"1px solid black\",\r\n  borderRadius: \"5px\",\r\n  color: \"#E1E1E1\",\r\n  background: \"#141414\",\r\n  margin: 0,\r\n  fontSize: \"16px\",\r\n  padding: \"0 5px\",\r\n});\r\n\r\nconst InputWithLabel = (props) => {\r\n  const { value, setValue, label, type, placeholder } = props; // Receive props from the LoginPageInputs\r\n\r\n  const handleValueChange = (event) => {\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Label>{label}</Label>\r\n      <Input\r\n        value={value}\r\n        onChange={handleValueChange}\r\n        type={type}\r\n        placeholder={placeholder}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default InputWithLabel;\r\n","import React from \"react\";\r\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\r\n\r\nconst LoginPageInputs = ({ mail, setMail, password, setPassword }) => {\r\n  // Receive the props\r\n  return (\r\n    <>\r\n      <InputWithLabel\r\n        // Receive props from the shared component AND the LoginPage\r\n        value={mail}\r\n        setValue={setMail}\r\n        label=\"E-mail\"\r\n        type=\"text\"\r\n        placeholder=\"Enter e-mail address\"\r\n      />\r\n      <InputWithLabel\r\n        value={password}\r\n        setValue={setPassword}\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        placeholder=\"Enter password\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPageInputs;\r\n","export const validateLoginForm = ({ mail, password }) => {\r\n  const isMailValid = validateMail(mail);\r\n  const isPasswordValid = validatePassword(password);\r\n\r\n  return isMailValid && isPasswordValid;\r\n};\r\n\r\nexport const validateRegisterForm = ({ mail, password, username }) => {\r\n  return (\r\n    validateMail(mail) &&\r\n    validatePassword(password) &&\r\n    validateUsername(username)\r\n  );\r\n};\r\n\r\nexport const validateMail = (mail) => {\r\n  const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\r\n  return emailPattern.test(mail);\r\n};\r\n\r\nconst validatePassword = (password) => {\r\n  return password.length > 5 && password.length < 13;\r\n};\r\n\r\nconst validateUsername = (username) => {\r\n  return username.length > 2 && username.length < 13;\r\n};\r\n","export const logout = () => {\r\n  localStorage.clear();\r\n  window.location.pathname = \"/login\";\r\n};\r\n","import axios from \"axios\";\r\nimport { logout } from \"./shared/utils/auth\";\r\n\r\n// 6. The API exists in the \"apiClient\". This means all activities between the frontend and backend environment go through here. So, naturally, THROUGH the apiClient, the userDetails are passed to the server. **Please scroll the page down to see step 7.\r\nconst apiClient = axios.create({\r\n  baseURL: \"https://youngjun-video-chat-app.herokuapp.com/\",\r\n  // timeout: 1000,\r\n});\r\n\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const userDetails = localStorage.getItem(\"user\");\r\n\r\n    if (userDetails) {\r\n      const token = JSON.parse(userDetails).token;\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n\r\n    return config;\r\n  },\r\n  (err) => {\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\n// public routes\r\n\r\n// 7. Here, the \"login\" function tries to POST our userDetails (data) to the \"/auth/login\" route. To check the route, we must go to our backend environment. **Please go to the \"authRoutes\" file in the backend folder to view the routing process.\r\nexport const login = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/auth/login\", data);\r\n  } catch (exception) {\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nexport const register = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/auth/register\", data);\r\n  } catch (exception) {\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\n// secure routes\r\nexport const sendFriendInvitation = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/friend-invitation/invite\", data);\r\n  } catch (exception) {\r\n    checkResponseCode(exception);\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nexport const acceptFriendInvitation = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/friend-invitation/accept\", data);\r\n  } catch (exception) {\r\n    checkResponseCode(exception);\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nexport const rejectFriendInvitation = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/friend-invitation/reject\", data);\r\n  } catch (exception) {\r\n    checkResponseCode(exception);\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nconst checkResponseCode = (exception) => {\r\n  const responseCode = exception?.response?.status;\r\n\r\n  if (responseCode) {\r\n    (responseCode === 401 || responseCode === 403) && logout();\r\n  }\r\n};\r\n","const alertActions = {\r\n  OPEN_ALERT_MESSAGE: \"ALERT.OPEN_ALERT_MESSAGE\",\r\n  CLOSE_ALERT_MESSAGE: \"ALERT.CLOSE_ALERT_MESSAGE\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    openAlertMessage: (content) => dispatch(openAlertMessage(content)),\r\n    closeAlertMessage: () => dispatch(closeAlertMessage()),\r\n  };\r\n};\r\n\r\nexport const openAlertMessage = (content) => {\r\n  return {\r\n    type: alertActions.OPEN_ALERT_MESSAGE,\r\n    content,\r\n  };\r\n};\r\n\r\nexport const closeAlertMessage = () => {\r\n  return {\r\n    type: alertActions.CLOSE_ALERT_MESSAGE,\r\n  };\r\n};\r\n\r\nexport default alertActions;\r\n","import * as api from \"../../api\";\r\nimport { openAlertMessage } from \"./alertActions\";\r\n\r\nexport const authActions = {\r\n  SET_USER_DETAILS: \"AUTH.SET_USER_DETAILS\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    // And tadah! the login function is here.\r\n    // 4. The login function uses the userDetails (userDetails, history) to execute Redux's dispatch method. **Please scroll the page down to view step.5\r\n    login: (userDetails, history) => dispatch(login(userDetails, history)),\r\n    register: (userDetails, history) =>\r\n      dispatch(register(userDetails, history)),\r\n    setUserDetails: (userDetails) => dispatch(setUserDetails(userDetails)),\r\n  };\r\n};\r\n\r\nconst setUserDetails = (userDetails) => {\r\n  // 21. Here, the setUserDetails function will send the current STATE and the userDetails to the authReducer. **Please reference the \"authReducer.js\" file\r\n  return {\r\n    type: authActions.SET_USER_DETAILS,\r\n    userDetails,\r\n  };\r\n};\r\n\r\n// the login function\r\nconst login = (userDetails, history) => {\r\n  return async (dispatch) => {\r\n    // 5. To execute the dispatch method, the \"userDetails\" goes through the API, and the server then the database to be VALIDATED. Until then, the login function WAIT for the API to send a response BACK to be used to \"login\" function. So let's try to navigate to our API. **Please reference \"api.js\"\r\n    const response = await api.login(userDetails);\r\n    console.log(response);\r\n    // If there is an error show the Alert Messages\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      // 18. The updated user details from the backend server are assigned to userDetails.\r\n      const { userDetails } = response?.data;\r\n      //  19. then the userDetails get STORED at the localStorage of the browser. Why? Check my blog on my website about localStorage and its functionality ;)\r\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\r\n\r\n      // 20. Thanks to the redux-thunk, the dispatch method can be used at the \"setUserDetails\" function to send the ACTION OBJECT to the authReducer. **Please scroll the page above to access the \"setUserDetails\" function.\r\n      dispatch(setUserDetails(userDetails));\r\n      // 23. The user is redirected to the dashboard.\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n};\r\n\r\nconst register = (userDetails, history) => {\r\n  return async (dispatch) => {\r\n    const response = await api.register(userDetails);\r\n    console.log(response);\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      const { userDetails } = response?.data;\r\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\r\n\r\n      dispatch(setUserDetails(userDetails));\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AuthBox from \"../../shared/components/AuthBox\";\r\nimport LoginPageFooter from \"./LoginPageFooter\";\r\nimport LoginPageHeader from \"./LoginPageHeader\";\r\nimport LoginPageInputs from \"./LoginPageInputs\";\r\nimport { validateLoginForm } from \"../../shared/utils/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/authActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst LoginPage = ({ login }) => {\r\n  const history = useHistory();\r\n\r\n  const [mail, setMail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsFormValid(validateLoginForm({ mail, password }));\r\n  }, [mail, password, setIsFormValid]);\r\n\r\n  const handleLogin = () => {\r\n    // 2. The handleLogin function assigns userDetails to the \"login\" function. Where did the \"login\" function come from? It come from \"mapActionsToProps\" function. **Please scroll the page down to find the \"mapActionsToProps\" function\r\n    const userDetails = {\r\n      mail,\r\n      password,\r\n    };\r\n\r\n    login(userDetails, history);\r\n  };\r\n\r\n  return (\r\n    <AuthBox>\r\n      <LoginPageHeader />\r\n      <LoginPageInputs\r\n        // Send the props to the LoginPageInputs\r\n        mail={mail}\r\n        setMail={setMail}\r\n        password={password}\r\n        setPassword={setPassword}\r\n      />\r\n      <LoginPageFooter isFormValid={isFormValid} handleLogin={handleLogin} />\r\n      {/* 1. User clicks on the Login Button, and the \"handleLogin\" handler gets triggered. **Please scroll up the page to find the \"handleLogin\" function */}\r\n    </AuthBox>\r\n  );\r\n};\r\n\r\n// 3. The mapActionsToProps functions returns the \"getActions\" function from \"authActions\" file. Lets try to search \"authActions\" file to see if \"login\" function exists in the \"authActions\" file.\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(LoginPage);\r\n","import React from \"react\";\r\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\r\n\r\nconst RegisterPageInputs = (props) => {\r\n  const { mail, setMail, username, setUsername, password, setPassword } = props;\r\n\r\n  return (\r\n    <>\r\n      <InputWithLabel\r\n        value={mail}\r\n        setValue={setMail}\r\n        label=\"E-mail address\"\r\n        type=\"text\"\r\n        placeholder=\"Enter e-mail address\"\r\n      />\r\n      <InputWithLabel\r\n        value={username}\r\n        setValue={setUsername}\r\n        label=\"Username\"\r\n        type=\"text\"\r\n        placeholder=\"Enter a username\"\r\n      />\r\n      <InputWithLabel\r\n        value={password}\r\n        setValue={setPassword}\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        placeholder=\"Enter password\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPageInputs;\r\n","import React from \"react\";\r\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\r\nimport RedirectInfo from \"../../shared/components/RedirectInfo\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Tooltip } from \"@mui/material\";\r\n\r\nconst getFormNotValidMessage = () => {\r\n  return \"Username should contains between 3 and 12 characters and password should contains between 6 and 12 character. Also correct e-mail address should provided\";\r\n};\r\n\r\nconst getFormValidMessage = () => {\r\n  return \"Press to register!\";\r\n};\r\n\r\nconst RegisterPageFooter = ({ handleRegister, isFormValid }) => {\r\n  const history = useHistory();\r\n\r\n  const handlePushToLoginPage = () => {\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip\r\n        title={!isFormValid ? getFormNotValidMessage() : getFormValidMessage()}\r\n      >\r\n        <div>\r\n          <CustomPrimaryButton\r\n            label=\"Register\"\r\n            additionalStyles={{ marginTop: \"30px\" }}\r\n            disabled={!isFormValid}\r\n            onClick={handleRegister}\r\n          />\r\n        </div>\r\n      </Tooltip>\r\n      <RedirectInfo\r\n        text=\"\"\r\n        redirectText=\"Already have an account ?\"\r\n        additionalStyles={{ marginTop: \"5px\" }}\r\n        redirectHandler={handlePushToLoginPage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPageFooter;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\nimport AuthBox from \"../../shared/components/AuthBox\";\r\nimport RegisterPageInputs from \"./RegisterPageInputs\";\r\nimport RegisterPageFooter from \"./RegisterPageFooter\";\r\nimport { validateRegisterForm } from \"../../shared/utils/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/authActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst RegisterPage = ({ register }) => {\r\n  const history = useHistory();\r\n\r\n  const [mail, setMail] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  const handleRegister = () => {\r\n    const userDetails = {\r\n      mail,\r\n      password,\r\n      username,\r\n    };\r\n\r\n    register(userDetails, history);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsFormValid(\r\n      validateRegisterForm({\r\n        mail,\r\n        username,\r\n        password,\r\n      })\r\n    );\r\n  }, [mail, username, password, setIsFormValid]);\r\n\r\n  return (\r\n    <AuthBox>\r\n      <Typography variant=\"h5\" sx={{ color: \"white \" }}>\r\n        Create an account\r\n      </Typography>\r\n      <RegisterPageInputs\r\n        mail={mail}\r\n        setMail={setMail}\r\n        username={username}\r\n        setUsername={setUsername}\r\n        password={password}\r\n        setPassword={setPassword}\r\n      />\r\n      <RegisterPageFooter\r\n        handleRegister={handleRegister}\r\n        isFormValid={isFormValid}\r\n      />\r\n    </AuthBox>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(RegisterPage);\r\n","export default __webpack_public_path__ + \"static/media/JOO_white.fdb1b01c.png\";","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Logo from \"../../assets/JOO_white.png\";\r\n\r\nconst MainPageButton = () => {\r\n  return (\r\n    <Button\r\n      style={{\r\n        width: \"48px\",\r\n        height: \"48px\",\r\n        borderRadius: \"16px\",\r\n        margin: 0,\r\n        padding: 0,\r\n        minWidth: 0,\r\n        marginTop: \"10px\",\r\n        color: \"white\",\r\n        backgroundColor: \"#67063c\",\r\n      }}\r\n    >\r\n      <img src={Logo} style={{ width: \"35px\" }}></img>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default MainPageButton;\r\n","import { authActions } from \"../actions/authActions\";\r\n\r\nconst initState = {\r\n  userDetails: null,\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    // 22. If the state authAction sent matches with the case written below. the UPDATED state will be returned to the login Function. **Please reference back to the \"authActions.js\"\r\n    case authActions.SET_USER_DETAILS:\r\n      return {\r\n        ...state,\r\n        userDetails: action.userDetails,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import alertActions from \"../actions/alertActions\";\r\n\r\nconst initState = {\r\n  showAlertMessage: false,\r\n  alertMessageContent: null,\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case alertActions.OPEN_ALERT_MESSAGE:\r\n      return {\r\n        ...state,\r\n        showAlertMessage: true,\r\n        alertMessageContent: action.content,\r\n      };\r\n    case alertActions.CLOSE_ALERT_MESSAGE:\r\n      return {\r\n        ...state,\r\n        showAlertMessage: false,\r\n        alertMessageContent: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { openAlertMessage } from \"./alertActions\";\r\nimport * as api from \"../../api\";\r\n\r\nexport const friendsActions = {\r\n  SET_FRIENDS: \"FRIENDS.SET_FRIENDS\",\r\n  SET_PENDING_FRIENDS_INVITATIONS: \"FRIENDS.SET_PENDING_FRIENDS_INVITATIONS\",\r\n  SET_ONLINE_USERS: \"FRIENDS.SET_ONLINE_USERS\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    sendFriendInvitation: (data, closeDialogHandler) =>\r\n      dispatch(sendFriendInvitation(data, closeDialogHandler)),\r\n    acceptFriendInvitation: (data) => dispatch(acceptFriendInvitation(data)),\r\n    rejectFriendInvitation: (data) => dispatch(rejectFriendInvitation(data)),\r\n  };\r\n};\r\n\r\nexport const setPendingFriendsInvitations = (pendingFriendsInvitations) => {\r\n  return {\r\n    type: friendsActions.SET_PENDING_FRIENDS_INVITATIONS,\r\n    pendingFriendsInvitations,\r\n  };\r\n};\r\n\r\nexport const setFriends = (friends) => {\r\n  return {\r\n    type: friendsActions.SET_FRIENDS,\r\n    friends,\r\n  };\r\n};\r\n\r\nexport const setOnlineUsers = (onlineUsers) => {\r\n  return {\r\n    type: friendsActions.SET_ONLINE_USERS,\r\n    onlineUsers,\r\n  };\r\n};\r\n\r\nconst sendFriendInvitation = (data, closeDialogHandler) => {\r\n  return async (dispatch) => {\r\n    const response = await api.sendFriendInvitation(data);\r\n\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response.exception?.response?.data));\r\n    } else {\r\n      dispatch(openAlertMessage(\"Invitation has been sent!\"));\r\n      closeDialogHandler();\r\n    }\r\n  };\r\n};\r\n\r\nconst acceptFriendInvitation = (data) => {\r\n  return async (dispatch) => {\r\n    const response = await api.acceptFriendInvitation(data);\r\n\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response.exception?.response?.data));\r\n    } else {\r\n      dispatch(openAlertMessage(\"Invitation accepted!\"));\r\n    }\r\n  };\r\n};\r\n\r\nconst rejectFriendInvitation = (data) => {\r\n  return async (dispatch) => {\r\n    const response = await api.rejectFriendInvitation(data);\r\n\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response.exception?.response?.data));\r\n    } else {\r\n      dispatch(openAlertMessage(\"Invitation rejected!\"));\r\n    }\r\n  };\r\n};\r\n","import { friendsActions } from \"../actions/friendsActions\";\r\n\r\nconst initState = {\r\n  friends: [],\r\n  pendingFriendsInvitations: [],\r\n  onlineUsers: [],\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case friendsActions.SET_PENDING_FRIENDS_INVITATIONS:\r\n      return {\r\n        ...state,\r\n        pendingFriendsInvitations: action.pendingFriendsInvitations,\r\n      };\r\n    case friendsActions.SET_FRIENDS:\r\n      return {\r\n        ...state,\r\n        friends: action.friends,\r\n      };\r\n    case friendsActions.SET_ONLINE_USERS:\r\n      return {\r\n        ...state,\r\n        onlineUsers: action.onlineUsers,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","export const chatTypes = {\r\n  DIRECT: \"DIRECT\",\r\n  GROUP: \"GROUP\",\r\n};\r\n\r\nexport const chatActions = {\r\n  SET_CHOSEN_CHAT_DETAILS: \"CHAT.SET_CHOSEN_CHAT_DETAILS\",\r\n  SET_MESSAGES: \"CHAT.SET_MESSAGES\",\r\n  SET_CHAT_TYPE: \"CHAT.SET_CHAT_TYPE\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    setChosenChatDetails: (details, chatType) =>\r\n      dispatch(setChosenChatDetails(details, chatType)),\r\n  };\r\n};\r\n\r\nexport const setChosenChatDetails = (chatDetails, type) => {\r\n  return {\r\n    type: chatActions.SET_CHOSEN_CHAT_DETAILS,\r\n    chatType: type,\r\n    chatDetails,\r\n  };\r\n};\r\n\r\nexport const setMessages = (messages) => {\r\n  return {\r\n    type: chatActions.SET_MESSAGES,\r\n    messages,\r\n  };\r\n};\r\n","import { chatActions } from \"../actions/chatActions\";\r\n\r\nconst initState = {\r\n  chosenChatDetails: null,\r\n  chatType: null,\r\n  messages: [],\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case chatActions.SET_CHOSEN_CHAT_DETAILS:\r\n      return {\r\n        ...state,\r\n        chosenChatDetails: action.chatDetails,\r\n        chatType: action.chatType,\r\n        messages: [],\r\n      };\r\n    case chatActions.SET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        messages: action.messages,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","export const roomActions = {\r\n  OPEN_ROOM: \"ROOM.OPEN_ROOM\",\r\n  SET_ROOM_DETAILS: \"ROOM.SET_ROOM_DETAILS\",\r\n  SET_ACTIVE_ROOMS: \"ROOM.SET_ACTIVE_ROOMS\",\r\n  SET_LOCAL_STREAM: \"ROOM.SET_LOCAL_STREAM\",\r\n  SET_REMOTE_STREAMS: \"ROOM.SET_REMOTE_STREAMS\",\r\n  SET_AUDIO_ONLY: \"ROOM.SET_AUDIO_ONLY\",\r\n  SET_SCREEN_SHARE_STREAM: \"ROOM.SET_SCREEN_SHARE_STREAM\",\r\n  SET_IS_USER_JOINED_WITH_ONLY_AUDIO: \"ROOM.SET_IS_USER_JOINED_WITH_ONLY_AUDIO\",\r\n};\r\n\r\nexport const setOpenRoom = (\r\n  isUserRoomCreator = false,\r\n  isUserInRoom = false\r\n) => {\r\n  return {\r\n    type: roomActions.OPEN_ROOM,\r\n    isUserRoomCreator,\r\n    isUserInRoom,\r\n  };\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    setAudioOnly: (audioOnly) => dispatch(setAudioOnly(audioOnly)),\r\n    setScreenSharingStream: (stream) => {\r\n      dispatch(setScreenSharingStream(stream));\r\n    },\r\n  };\r\n};\r\n\r\nexport const setRoomDetails = (roomDetails) => {\r\n  return {\r\n    type: roomActions.SET_ROOM_DETAILS,\r\n    roomDetails,\r\n  };\r\n};\r\n\r\nexport const setActiveRooms = (activeRooms) => {\r\n  return {\r\n    type: roomActions.SET_ACTIVE_ROOMS,\r\n    activeRooms,\r\n  };\r\n};\r\n\r\nexport const setLocalStream = (localStream) => {\r\n  return {\r\n    type: roomActions.SET_LOCAL_STREAM,\r\n    localStream,\r\n  };\r\n};\r\n\r\nexport const setAudioOnly = (audioOnly) => {\r\n  return {\r\n    type: roomActions.SET_AUDIO_ONLY,\r\n    audioOnly,\r\n  };\r\n};\r\n\r\nexport const setRemoteStreams = (remoteStreams) => {\r\n  return {\r\n    type: roomActions.SET_REMOTE_STREAMS,\r\n    remoteStreams,\r\n  };\r\n};\r\n\r\nexport const setScreenSharingStream = (stream) => {\r\n  return {\r\n    type: roomActions.SET_SCREEN_SHARE_STREAM,\r\n    isScreenSharingActive: stream ? true : false,\r\n    screenSharingStream: stream || null,\r\n  };\r\n};\r\n\r\nexport const setIsUserJoinedOnlyWithAudio = (onlyWithAudio) => {\r\n  return {\r\n    type: roomActions.SET_IS_USER_JOINED_WITH_ONLY_AUDIO,\r\n    isUserJoinedWithOnlyAudio: onlyWithAudio,\r\n  };\r\n};\r\n","import { roomActions } from \"../actions/roomActions\";\r\n\r\nconst initState = {\r\n  isUserInRoom: false,\r\n  isUserRoomCreator: false,\r\n  roomDetails: null,\r\n  activeRooms: [],\r\n  localStream: null,\r\n  remoteStreams: [],\r\n  audioOnly: false,\r\n  screenSharingStream: null,\r\n  isScreenSharingActive: false,\r\n  isUserJoinedWithOnlyAudio: false,\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case roomActions.OPEN_ROOM:\r\n      return {\r\n        ...state,\r\n        isUserInRoom: action.isUserInRoom,\r\n        isUserRoomCreator: action.isUserRoomCreator,\r\n      };\r\n    case roomActions.SET_ROOM_DETAILS:\r\n      return {\r\n        ...state,\r\n        roomDetails: action.roomDetails,\r\n      };\r\n    case roomActions.SET_ACTIVE_ROOMS:\r\n      return {\r\n        ...state,\r\n        activeRooms: action.activeRooms,\r\n      };\r\n    case roomActions.SET_LOCAL_STREAM:\r\n      return {\r\n        ...state,\r\n        localStream: action.localStream,\r\n      };\r\n    case roomActions.SET_AUDIO_ONLY:\r\n      return {\r\n        ...state,\r\n        audioOnly: action.audioOnly,\r\n      };\r\n    case roomActions.SET_REMOTE_STREAMS:\r\n      return {\r\n        ...state,\r\n        remoteStreams: action.remoteStreams,\r\n      };\r\n    case roomActions.SET_SCREEN_SHARE_STREAM:\r\n      return {\r\n        ...state,\r\n        screenSharingStream: action.screenSharingStream,\r\n        isScreenSharingActive: action.isScreenSharingActive,\r\n      };\r\n    case roomActions.SET_IS_USER_JOINED_WITH_ONLY_AUDIO:\r\n      return {\r\n        ...state,\r\n        isUserJoinedWithOnlyAudio: action.isUserJoinedWithOnlyAudio,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { combineReducers, createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport authReducer from \"./reducers/authReducer\";\r\nimport alertReducer from \"./reducers/alertReducer\";\r\nimport friendsReducer from \"./reducers/friendsReducer\";\r\nimport chatReducer from \"./reducers/chatReducer\";\r\nimport roomReducer from \"./reducers/roomReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  alert: alertReducer,\r\n  friends: friendsReducer,\r\n  chat: chatReducer,\r\n  room: roomReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import store from \"../../store/store\";\r\nimport { setMessages } from \"../../store/actions/chatActions\";\r\n\r\nexport const updateDirectChatHistoryIfActive = (data) => {\r\n  const { participants, messages } = data;\r\n\r\n  // find id of user from token and id from active conversation\r\n  const receiverId = store.getState().chat.chosenChatDetails?.id;\r\n  const userId = store.getState().auth.userDetails._id;\r\n\r\n  if (receiverId && userId) {\r\n    const usersInCoversation = [receiverId, userId];\r\n\r\n    updateChatHistoryIfSameConversationActive({\r\n      participants,\r\n      usersInCoversation,\r\n      messages,\r\n    });\r\n  }\r\n};\r\n\r\nconst updateChatHistoryIfSameConversationActive = ({\r\n  participants,\r\n  usersInCoversation,\r\n  messages,\r\n}) => {\r\n  const result = participants.every(function (participantId) {\r\n    return usersInCoversation.includes(participantId);\r\n  });\r\n\r\n  if (result) {\r\n    store.dispatch(setMessages(messages));\r\n  }\r\n};\r\n","import store from \"../store/store\";\r\nimport { setLocalStream, setRemoteStreams } from \"../store/actions/roomActions\";\r\nimport Peer from \"simple-peer\";\r\nimport * as socketConnection from \"./socketConnection\";\r\n\r\nconst getConfiguration = () => {\r\n  const turnIceServers = null;\r\n\r\n  if (turnIceServers) {\r\n    // TODO use TURN server credentials\r\n  } else {\r\n    console.warn(\"Using only STUN server\");\r\n    return {\r\n      iceServers: [\r\n        {\r\n          urls: \"stun:stun.l.google.com:19302\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n};\r\n\r\nconst onlyAudioConstraints = {\r\n  audio: true,\r\n  video: false,\r\n};\r\n\r\nconst defaultConstraints = {\r\n  video: true,\r\n  audio: true,\r\n};\r\n\r\nexport const getLocalStreamPreview = (onlyAudio = false, callbackFunc) => {\r\n  const constraints = onlyAudio ? onlyAudioConstraints : defaultConstraints;\r\n\r\n  navigator.mediaDevices\r\n    .getUserMedia(constraints)\r\n    .then((stream) => {\r\n      store.dispatch(setLocalStream(stream));\r\n      callbackFunc();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      console.log(\"Cannot get an access to local stream\");\r\n    });\r\n};\r\n\r\nlet peers = {};\r\n\r\nexport const prepareNewPeerConnection = (connUserSocketId, isInitiator) => {\r\n  const localStream = store.getState().room.localStream;\r\n\r\n  if (isInitiator) {\r\n    console.log(\"preparing new peer connection as initiator\");\r\n  } else {\r\n    console.log(\"preparing new peer connection as not initiator\");\r\n  }\r\n\r\n  peers[connUserSocketId] = new Peer({\r\n    initiator: isInitiator,\r\n    config: getConfiguration(),\r\n    stream: localStream,\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"signal\", (data) => {\r\n    const signalData = {\r\n      signal: data,\r\n      connUserSocketId: connUserSocketId,\r\n    };\r\n\r\n    socketConnection.signalPeerData(signalData);\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"stream\", (remoteStream) => {\r\n    // TODO\r\n    // add new remote stream to our server store\r\n    console.log(\"remote stream came from other user\");\r\n    console.log(\"direct connection has been established\");\r\n    remoteStream.connUserSocketId = connUserSocketId;\r\n    addNewRemoteStream(remoteStream);\r\n  });\r\n};\r\n\r\nexport const handleSignalingData = (data) => {\r\n  const { connUserSocketId, signal } = data;\r\n\r\n  if (peers[connUserSocketId]) {\r\n    peers[connUserSocketId].signal(signal);\r\n  }\r\n};\r\n\r\nconst addNewRemoteStream = (remoteStream) => {\r\n  const remoteStreams = store.getState().room.remoteStreams;\r\n  const newRemoteStreams = [...remoteStreams, remoteStream];\r\n\r\n  store.dispatch(setRemoteStreams(newRemoteStreams));\r\n};\r\n\r\nexport const closeAllConnections = () => {\r\n  Object.entries(peers).forEach((mappedObject) => {\r\n    const connUserSocketId = mappedObject[0];\r\n    if (peers[connUserSocketId]) {\r\n      peers[connUserSocketId].destroy();\r\n      delete peers[connUserSocketId];\r\n    }\r\n  });\r\n};\r\n\r\nexport const handleParticipantLeftRoom = (data) => {\r\n  const { connUserSocketId } = data;\r\n\r\n  if (peers[connUserSocketId]) {\r\n    peers[connUserSocketId].destroy();\r\n    delete peers[connUserSocketId];\r\n  }\r\n\r\n  const remoteStreams = store.getState().room.remoteStreams;\r\n\r\n  const newRemoteStreams = remoteStreams.filter(\r\n    (remoteStream) => remoteStream.connUserSocketId !== connUserSocketId\r\n  );\r\n\r\n  store.dispatch(setRemoteStreams(newRemoteStreams));\r\n};\r\n\r\nexport const switchOutgoingTracks = (stream) => {\r\n  for (let socket_id in peers) {\r\n    for (let index in peers[socket_id].streams[0].getTracks()) {\r\n      for (let index2 in stream.getTracks()) {\r\n        if (\r\n          peers[socket_id].streams[0].getTracks()[index].kind ===\r\n          stream.getTracks()[index2].kind\r\n        ) {\r\n          peers[socket_id].replaceTrack(\r\n            peers[socket_id].streams[0].getTracks()[index],\r\n            stream.getTracks()[index2],\r\n            peers[socket_id].streams[0]\r\n          );\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n","import io from \"socket.io-client\";\r\nimport {\r\n  setPendingFriendsInvitations,\r\n  setFriends,\r\n  setOnlineUsers,\r\n} from \"../store/actions/friendsActions\";\r\nimport store from \"../store/store\";\r\nimport { updateDirectChatHistoryIfActive } from \"../shared/utils/chat\";\r\nimport * as roomHandler from \"./roomHandler\";\r\nimport * as webRTCHandler from \"./webRTCHandler\";\r\n\r\nlet socket = null;\r\n\r\nexport const connectWithSocketServer = (userDetails) => {\r\n  const jwtToken = userDetails.token;\r\n\r\n  socket = io(\"http://localhost:5002\", {\r\n    auth: {\r\n      token: jwtToken,\r\n    },\r\n  });\r\n\r\n  socket.on(\"connect\", () => {\r\n    console.log(\"succesfully connected with socket.io server\");\r\n    console.log(socket.id);\r\n  });\r\n\r\n  socket.on(\"friends-invitations\", (data) => {\r\n    const { pendingInvitations } = data;\r\n    store.dispatch(setPendingFriendsInvitations(pendingInvitations));\r\n  });\r\n\r\n  socket.on(\"friends-list\", (data) => {\r\n    const { friends } = data;\r\n    store.dispatch(setFriends(friends));\r\n  });\r\n\r\n  socket.on(\"online-users\", (data) => {\r\n    const { onlineUsers } = data;\r\n    store.dispatch(setOnlineUsers(onlineUsers));\r\n  });\r\n\r\n  socket.on(\"direct-chat-history\", (data) => {\r\n    console.log(data);\r\n    updateDirectChatHistoryIfActive(data);\r\n  });\r\n\r\n  socket.on(\"room-create\", (data) => {\r\n    roomHandler.newRoomCreated(data);\r\n  });\r\n\r\n  socket.on(\"active-rooms\", (data) => {\r\n    roomHandler.updateActiveRooms(data);\r\n  });\r\n\r\n  socket.on(\"conn-prepare\", (data) => {\r\n    const { connUserSocketId } = data;\r\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, false);\r\n    socket.emit(\"conn-init\", { connUserSocketId: connUserSocketId });\r\n  });\r\n\r\n  socket.on(\"conn-init\", (data) => {\r\n    const { connUserSocketId } = data;\r\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, true);\r\n  });\r\n\r\n  socket.on(\"conn-signal\", (data) => {\r\n    webRTCHandler.handleSignalingData(data);\r\n  });\r\n\r\n  socket.on(\"room-participant-left\", (data) => {\r\n    console.log(\"user left room\");\r\n    webRTCHandler.handleParticipantLeftRoom(data);\r\n  });\r\n};\r\n\r\nexport const sendDirectMessage = (data) => {\r\n  console.log(data);\r\n  socket.emit(\"direct-message\", data);\r\n};\r\n\r\nexport const getDirectChatHistory = (data) => {\r\n  socket.emit(\"direct-chat-history\", data);\r\n};\r\n\r\nexport const createNewRoom = () => {\r\n  socket.emit(\"room-create\");\r\n};\r\n\r\nexport const joinRoom = (data) => {\r\n  socket.emit(\"room-join\", data);\r\n};\r\n\r\nexport const leaveRoom = (data) => {\r\n  socket.emit(\"room-leave\", data);\r\n};\r\n\r\nexport const signalPeerData = (data) => {\r\n  socket.emit(\"conn-signal\", data);\r\n};\r\n","import store from \"../store/store\";\r\nimport {\r\n  setOpenRoom,\r\n  setRoomDetails,\r\n  setActiveRooms,\r\n  setLocalStream,\r\n  setRemoteStreams,\r\n  setScreenSharingStream,\r\n  setIsUserJoinedOnlyWithAudio,\r\n} from \"../store/actions/roomActions\";\r\nimport * as socketConnection from \"./socketConnection\";\r\nimport * as webRTCHandler from \"./webRTCHandler\";\r\n\r\nexport const createNewRoom = () => {\r\n  const successCalbackFunc = () => {\r\n    store.dispatch(setOpenRoom(true, true));\r\n\r\n    const audioOnly = store.getState().room.audioOnly;\r\n    store.dispatch(setIsUserJoinedOnlyWithAudio(audioOnly));\r\n    socketConnection.createNewRoom();\r\n  };\r\n\r\n  const audioOnly = store.getState().room.audioOnly;\r\n  webRTCHandler.getLocalStreamPreview(audioOnly, successCalbackFunc);\r\n};\r\n\r\nexport const newRoomCreated = (data) => {\r\n  const { roomDetails } = data;\r\n  store.dispatch(setRoomDetails(roomDetails));\r\n};\r\n\r\nexport const updateActiveRooms = (data) => {\r\n  const { activeRooms } = data;\r\n\r\n  const friends = store.getState().friends.friends;\r\n  const rooms = [];\r\n\r\n  const userId = store.getState().auth.userDetails?._id;\r\n\r\n  activeRooms.forEach((room) => {\r\n    const isRoomCreatedByMe = room.roomCreator.userId === userId;\r\n\r\n    if (isRoomCreatedByMe) {\r\n      rooms.push({ ...room, creatorUsername: \"Me\" });\r\n    } else {\r\n      friends.forEach((f) => {\r\n        if (f.id === room.roomCreator.userId) {\r\n          rooms.push({ ...room, creatorUsername: f.username });\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  store.dispatch(setActiveRooms(rooms));\r\n};\r\n\r\nexport const joinRoom = (roomId) => {\r\n  const successCalbackFunc = () => {\r\n    store.dispatch(setRoomDetails({ roomId }));\r\n    store.dispatch(setOpenRoom(false, true));\r\n    const audioOnly = store.getState().room.audioOnly;\r\n    store.dispatch(setIsUserJoinedOnlyWithAudio(audioOnly));\r\n    socketConnection.joinRoom({ roomId });\r\n  };\r\n\r\n  const audioOnly = store.getState().room.audioOnly;\r\n  webRTCHandler.getLocalStreamPreview(audioOnly, successCalbackFunc);\r\n};\r\n\r\nexport const leaveRoom = () => {\r\n  const roomId = store.getState().room.roomDetails.roomId;\r\n\r\n  const localStream = store.getState().room.localStream;\r\n  if (localStream) {\r\n    localStream.getTracks().forEach((track) => track.stop());\r\n    store.dispatch(setLocalStream(null));\r\n  }\r\n\r\n  const screenSharingStream = store.getState().room.screenSharingStream;\r\n  if (screenSharingStream) {\r\n    screenSharingStream.getTracks().forEach((track) => track.stop());\r\n    store.dispatch(setScreenSharingStream(null));\r\n  }\r\n\r\n  store.dispatch(setRemoteStreams([]));\r\n  webRTCHandler.closeAllConnections();\r\n\r\n  socketConnection.leaveRoom({ roomId });\r\n  store.dispatch(setRoomDetails(null));\r\n  store.dispatch(setOpenRoom(false, false));\r\n};\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport * as roomHandler from \"../../realtimeCommunication/roomHandler\";\r\n\r\nconst CreateRoomButton = ({ isUserInRoom }) => {\r\n  const createNewRoomHandler = () => {\r\n    roomHandler.createNewRoom();\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      disabled={isUserInRoom}\r\n      onClick={createNewRoomHandler}\r\n      style={{\r\n        width: \"48px\",\r\n        height: \"48px\",\r\n        borderRadius: \"16px\",\r\n        margin: 0,\r\n        padding: 0,\r\n        minWidth: 0,\r\n        marginTop: \"10px\",\r\n        color: \"white\",\r\n        backgroundColor: \"#67063c\",\r\n      }}\r\n    >\r\n      <AddIcon />\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default CreateRoomButton;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst AvatarPreview = styled(\"div\")({\r\n  height: \"42px\",\r\n  width: \"42px\",\r\n  backgroundColor: \"#67063c\",\r\n  borderRadius: \"42px\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  fontSize: \"20px\",\r\n  fontWeight: \"700\",\r\n  color: \"white\",\r\n});\r\n\r\nconst Avatar = ({ username, large }) => {\r\n  return (\r\n    <AvatarPreview style={large ? { height: \"80px\", width: \"80px\" } : {}}>\r\n      {username.substring(0, 2)}\r\n    </AvatarPreview>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport Avatar from \"../../shared/components/Avatar\";\r\nimport * as roomHandler from \"../../realtimeCommunication/roomHandler\";\r\n\r\nconst ActiveRoomButton = ({\r\n  creatorUsername,\r\n  roomId,\r\n  amountOfParticipants,\r\n  isUserInRoom,\r\n}) => {\r\n  const handleJoinActiveRoom = () => {\r\n    if (amountOfParticipants < 4) {\r\n      roomHandler.joinRoom(roomId);\r\n    }\r\n  };\r\n\r\n  const activeRoomButtonDisabled = amountOfParticipants > 3;\r\n  const roomTitle = `Cretor: ${creatorUsername}. Connected: ${amountOfParticipants}`;\r\n\r\n  return (\r\n    <Tooltip title={roomTitle}>\r\n      <div>\r\n        <Button\r\n          style={{\r\n            width: \"48px\",\r\n            height: \"48px\",\r\n            borderRadius: \"16px\",\r\n            margin: 0,\r\n            padding: 0,\r\n            minWidth: 0,\r\n            marginTop: \"10px\",\r\n            color: \"white\",\r\n            backgroundColor: \"#67063c\",\r\n          }}\r\n          disabled={activeRoomButtonDisabled || isUserInRoom}\r\n          onClick={handleJoinActiveRoom}\r\n        >\r\n          <Avatar username={creatorUsername} />\r\n        </Button>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default ActiveRoomButton;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport MainPageButton from \"./MainPageButton\";\r\nimport CreateRoomButton from \"./CreateRoomButton\";\r\nimport { connect } from \"react-redux\";\r\nimport ActiveRoomButton from \"./ActiveRoomButton\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"72px\",\r\n  height: \"100%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  backgroundColor: \"#000000\",\r\n});\r\n\r\nconst SideBar = ({ activeRooms, isUserInRoom }) => {\r\n  return (\r\n    <MainContainer>\r\n      <MainPageButton />\r\n      <CreateRoomButton\r\n        stlye={{ backgroundColor: \"#67063c\" }}\r\n        isUserInRoom={isUserInRoom}\r\n      />\r\n      {activeRooms.map((room) => (\r\n        <ActiveRoomButton\r\n          roomId={room.roomId}\r\n          creatorUsername={room.creatorUsername}\r\n          amountOfParticipants={room.participants.length}\r\n          key={room.roomId}\r\n          isUserInRoom={isUserInRoom}\r\n          style={{ backgroundColor: \"#5865f2\" }}\r\n        />\r\n      ))}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(SideBar);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { validateMail } from \"../../shared/utils/validators\";\r\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\r\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/friendsActions\";\r\n\r\nconst AddFriendDialog = ({\r\n  isDialogOpen,\r\n  closeDialogHandler,\r\n  sendFriendInvitation = () => {},\r\n}) => {\r\n  const [mail, setMail] = useState(\"\");\r\n  const [isFormValid, setIsFormValid] = useState(\"\");\r\n\r\n  const handleSendInvitation = () => {\r\n    sendFriendInvitation(\r\n      {\r\n        targetMailAddress: mail,\r\n      },\r\n      handleCloseDialog\r\n    );\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    closeDialogHandler();\r\n    setMail(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsFormValid(validateMail(mail));\r\n  }, [mail, setIsFormValid]);\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={isDialogOpen} onClose={handleCloseDialog}>\r\n        <DialogTitle>\r\n          <Typography>Invite a Friend</Typography>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            <Typography>\r\n              Enter e-mail address of friend which you would like to invite\r\n            </Typography>\r\n          </DialogContentText>\r\n          <InputWithLabel\r\n            label=\"Mail\"\r\n            type=\"text\"\r\n            value={mail}\r\n            setValue={setMail}\r\n            placeholder=\"Enter mail address\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <CustomPrimaryButton\r\n            onClick={handleSendInvitation}\r\n            disabled={!isFormValid}\r\n            label=\"Send\"\r\n            additionalStyles={{\r\n              marginLeft: \"15px\",\r\n              marginRight: \"15px\",\r\n              marginBottom: \"10px\",\r\n            }}\r\n          />\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(AddFriendDialog);\r\n","import React, { useState } from \"react\";\r\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\r\nimport AddFriendDialog from \"./AddFriendDialog\";\r\n\r\nconst additionalStyles = {\r\n  marginTop: \"10px\",\r\n  marginLeft: \"5px\",\r\n  width: \"80%\",\r\n  height: \"30px\",\r\n  background: \"#3ba55d\",\r\n};\r\n\r\nconst AddFriendButton = () => {\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n\r\n  const handleOpenAddFriendDialog = () => {\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const handleCloseAddFriendDialog = () => {\r\n    setIsDialogOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CustomPrimaryButton\r\n        additionalStyles={additionalStyles}\r\n        label=\"Add Friend\"\r\n        onClick={handleOpenAddFriendDialog}\r\n      />\r\n      <AddFriendDialog\r\n        isDialogOpen={isDialogOpen}\r\n        closeDialogHandler={handleCloseAddFriendDialog}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddFriendButton;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst FriendsTitle = ({ title }) => {\r\n  return (\r\n    <Typography\r\n      sx={{\r\n        textTransform: \"uppercase\",\r\n        color: \"#E1E1E1\",\r\n        fontSize: \"14px\",\r\n        marginTop: \"10px\",\r\n      }}\r\n    >\r\n      {title}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default FriendsTitle;\r\n","import React from \"react\";\r\nimport { Box } from \"@mui/material\";\r\nimport FiberManualRecordIcon from \"@mui/icons-material/FiberManualRecord\";\r\n\r\nconst OnlineIndicator = () => {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        color: \"#3ba55d\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        position: \"absolute\",\r\n        right: \"5px\",\r\n      }}\r\n    >\r\n      <FiberManualRecordIcon />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default OnlineIndicator;\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Avatar from \"../../../shared/components/Avatar\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport OnlineIndicator from \"./OnlineIndicator\";\r\nimport { chatTypes, getActions } from \"../../../store/actions/chatActions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst FriendsListItem = ({ id, username, isOnline, setChosenChatDetails }) => {\r\n  const handleChooseActiveConversation = () => {\r\n    setChosenChatDetails({ id: id, name: username }, chatTypes.DIRECT);\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      onClick={handleChooseActiveConversation}\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"42px\",\r\n        marginTop: \"10px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-start\",\r\n        textTransform: \"none\",\r\n        color: \"#F3F3F3\",\r\n        position: \"relative\",\r\n      }}\r\n    >\r\n      <Avatar username={username} />\r\n      <Typography\r\n        style={{\r\n          marginLeft: \"7px\",\r\n          fontWeight: 700,\r\n          color: \"#E1E1E1\",\r\n        }}\r\n        variant=\"subtitle1\"\r\n        align=\"left\"\r\n      >\r\n        {username}\r\n      </Typography>\r\n      {isOnline && <OnlineIndicator />}\r\n    </Button>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(FriendsListItem);\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport FriendsListItem from \"./FriendsListItem\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  flexGrow: 1,\r\n  width: \"100%\",\r\n});\r\n\r\nconst checkOnlineUsers = (friends = [], onlineUsers = []) => {\r\n  friends.forEach((f) => {\r\n    const isUserOnline = onlineUsers.find((user) => user.userId === f.id);\r\n    f.isOnline = isUserOnline ? true : false;\r\n  });\r\n\r\n  return friends;\r\n};\r\n\r\nconst FriendsList = ({ friends, onlineUsers }) => {\r\n  return (\r\n    <MainContainer>\r\n      {checkOnlineUsers(friends, onlineUsers).map((f) => (\r\n        <FriendsListItem\r\n          username={f.username}\r\n          id={f.id}\r\n          key={f.id}\r\n          isOnline={f.isOnline}\r\n        />\r\n      ))}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ friends }) => {\r\n  return {\r\n    ...friends,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(FriendsList);\r\n","import React from \"react\";\r\nimport CheckIcon from \"@mui/icons-material/Check\";\r\nimport ClearIcon from \"@mui/icons-material/Clear\";\r\nimport Box from \"@mui/material/Box\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\n\r\nconst InvitationDecisionButtons = ({\r\n  disabled,\r\n  acceptInvitationHandler,\r\n  rejectInvitationHandler,\r\n}) => {\r\n  return (\r\n    <Box sx={{ display: \"flex\" }}>\r\n      <IconButton\r\n        style={{ color: \"white\" }}\r\n        disabled={disabled}\r\n        onClick={acceptInvitationHandler}\r\n      >\r\n        <CheckIcon />\r\n      </IconButton>\r\n      <IconButton\r\n        style={{ color: \"white\" }}\r\n        disabled={disabled}\r\n        onClick={rejectInvitationHandler}\r\n      >\r\n        <ClearIcon />\r\n      </IconButton>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default InvitationDecisionButtons;\r\n","import React, { useState } from \"react\";\r\nimport { Tooltip, Typography, Box } from \"@mui/material\";\r\nimport Avatar from \"../../../shared/components/Avatar\";\r\nimport InvitationDecisionButtons from \"./InvitationDecisionButtons\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../../store/actions/friendsActions\";\r\n\r\nconst PendingInvitationsListItem = ({\r\n  id,\r\n  username,\r\n  mail,\r\n  acceptFriendInvitation = () => {},\r\n  rejectFriendInvitation = () => {},\r\n}) => {\r\n  const [buttonsDisabled, setButtonsDisabled] = useState(false);\r\n\r\n  const handleAcceptInvitation = () => {\r\n    console.log(id);\r\n    acceptFriendInvitation({ id });\r\n    setButtonsDisabled(true);\r\n  };\r\n\r\n  const handleRejectInvitation = () => {\r\n    console.log(id);\r\n    rejectFriendInvitation({ id });\r\n    setButtonsDisabled(true);\r\n  };\r\n\r\n  return (\r\n    <Tooltip title={mail}>\r\n      <div style={{ width: \"100%\" }}>\r\n        <Box\r\n          sx={{\r\n            width: \"100%\",\r\n            height: \"42px\",\r\n            marginTop: \"10px\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Avatar username={username} />\r\n          <Typography\r\n            sx={{\r\n              marginLeft: \"7px\",\r\n              fontWeight: 700,\r\n              color: \"#8e9297\",\r\n              flexGrow: 1,\r\n            }}\r\n            variant=\"subtitle1\"\r\n          >\r\n            {username}\r\n          </Typography>\r\n          <InvitationDecisionButtons\r\n            disabled={buttonsDisabled}\r\n            acceptInvitationHandler={handleAcceptInvitation}\r\n            rejectInvitationHandler={handleRejectInvitation}\r\n          />\r\n        </Box>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(PendingInvitationsListItem);\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport PendingInvitationsListItem from \"./PendingInvitationsListItem\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"100%\",\r\n  height: \"22%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  overflow: \"auto\",\r\n});\r\n\r\nconst PendingInvitationsList = ({ pendingFriendsInvitations }) => {\r\n  return (\r\n    <MainContainer>\r\n      {pendingFriendsInvitations.map((invitation) => (\r\n        <PendingInvitationsListItem\r\n          key={invitation._id}\r\n          id={invitation._id}\r\n          username={invitation.senderId.username}\r\n          mail={invitation.senderId.mail}\r\n        />\r\n      ))}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ friends }) => {\r\n  return {\r\n    ...friends,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(PendingInvitationsList);\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport AddFriendButton from \"./AddFriendButton\";\r\nimport FriendsTitle from \"./FriendsTitle\";\r\nimport FriendsList from \"./FriendsList/FriendsList\";\r\nimport PendingInvitationsList from \"./PendingInvitationsList/PendingInvitationsList\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"224px\",\r\n  height: \"100%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  backgroundColor: \"#141414\",\r\n});\r\n\r\nconst FriendsSideBar = () => {\r\n  return (\r\n    <MainContainer>\r\n      <AddFriendButton />\r\n      <FriendsTitle title=\"Private Messages\" />\r\n      <FriendsList />\r\n      <FriendsTitle title=\"Invitations\" />\r\n      <PendingInvitationsList />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default FriendsSideBar;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst Wrapper = styled(\"div\")({\r\n  flexGrow: 1,\r\n  height: \"100%\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n});\r\n\r\nconst WelcomeMessage = () => {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant=\"h6\" sx={{ color: \"#FFFFFF\" }}>\r\n        To start chatting - choose conversation\r\n      </Typography>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default WelcomeMessage;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport Avatar from \"../../../shared/components/Avatar\";\r\nimport Typography from \"@mui/material/Typography\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"98%\",\r\n  display: \"column\",\r\n  marginTop: \"10px\",\r\n});\r\n\r\nconst MessagesHeader = ({ name = \"\" }) => {\r\n  return (\r\n    <MainContainer>\r\n      <Avatar large username={name} />\r\n      <Typography\r\n        variant=\"h4\"\r\n        sx={{\r\n          fontWeight: \"bold\",\r\n          color: \"white\",\r\n          marginLeft: \"5px\",\r\n          marginRight: \"5px\",\r\n        }}\r\n      >\r\n        {name}\r\n      </Typography>\r\n      <Typography\r\n        sx={{\r\n          color: \"#b9bbbe\",\r\n          marginLeft: \"5px\",\r\n          marginRight: \"5px\",\r\n        }}\r\n      >\r\n        This is the beginning of your conversation with {name}\r\n      </Typography>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default MessagesHeader;\r\n","const DUMMY_MESSAGES = [\r\n  {\r\n    _id: 1,\r\n    content: \"hello\",\r\n    sameAuthor: false,\r\n    author: {\r\n      username: \"Marek\",\r\n    },\r\n    date: \"22/01/2022\",\r\n    sameDay: false,\r\n  },\r\n  {\r\n    _id: 2,\r\n    content: \"hello once again\",\r\n    sameAuthor: true,\r\n    author: {\r\n      username: \"Marek\",\r\n    },\r\n    date: \"22/01/2022\",\r\n    sameDay: true,\r\n  },\r\n  {\r\n    _id: 3,\r\n    content: \"hello third time\",\r\n    sameAuthor: true,\r\n    author: {\r\n      username: \"Marek\",\r\n    },\r\n    date: \"23/01/2022\",\r\n    sameDay: false,\r\n  },\r\n  {\r\n    _id: 4,\r\n    content: \"hello response first time\",\r\n    sameAuthor: false,\r\n    author: {\r\n      username: \"John\",\r\n    },\r\n    date: \"23/01/2022\",\r\n    sameDay: true,\r\n  },\r\n  {\r\n    _id: 5,\r\n    content: \"hello response third time\",\r\n    sameAuthor: true,\r\n    author: {\r\n      username: \"John\",\r\n    },\r\n    date: \"24/01/2022\",\r\n    sameDay: false,\r\n  },\r\n];\r\n\r\nexport default DUMMY_MESSAGES;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport Avatar from \"../../../shared/components/Avatar\";\r\nimport Typography from \"@mui/material/Typography\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"97%\",\r\n  display: \"flex\",\r\n  marginTop: \"10px\",\r\n});\r\n\r\nconst AvatarContainer = styled(\"div\")({\r\n  width: \"70px\",\r\n});\r\n\r\nconst MessageContainer = styled(\"div\")({\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n});\r\n\r\nconst MessageContent = styled(\"div\")({\r\n  color: \"#DCDDDE\",\r\n});\r\n\r\nconst SameAuthorMessageContent = styled(\"div\")({\r\n  color: \"#DCDDDE\",\r\n  width: \"97%\",\r\n});\r\n\r\nconst SameAuthorMessageText = styled(\"span\")({\r\n  marginLeft: \"70px\",\r\n});\r\n\r\nconst Message = ({ content, sameAuthor, username, date, sameDay }) => {\r\n  if (sameAuthor && sameDay) {\r\n    return (\r\n      <SameAuthorMessageContent>\r\n        <SameAuthorMessageText>{content}</SameAuthorMessageText>\r\n      </SameAuthorMessageContent>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <MainContainer>\r\n      <AvatarContainer>\r\n        <Avatar username={username} />\r\n      </AvatarContainer>\r\n      <MessageContainer>\r\n        <Typography style={{ fontSize: \"16px\", color: \"white\" }}>\r\n          {username}{\" \"}\r\n          <span style={{ fontSize: \"12px\", color: \"#72767d\" }}>{date}</span>\r\n        </Typography>\r\n        <MessageContent>{content}</MessageContent>\r\n      </MessageContainer>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst Separator = styled(\"div\")({\r\n  width: \"95%\",\r\n  backgroundColor: \"#b9bbbe\",\r\n  height: \"1px\",\r\n  position: \"relative\",\r\n  marginTop: \"20px\",\r\n  marginBottom: \"10px\",\r\n});\r\n\r\nconst DateLabel = styled(\"span\")({\r\n  backgroundColor: \"#36393f\",\r\n  position: \"absolute\",\r\n  left: \"45%\",\r\n  top: \"-10px\",\r\n  color: \"#b9bbbe\",\r\n  padding: \"0 5px\",\r\n  fontSize: \"14px\",\r\n});\r\n\r\nconst DateSeparator = ({ date }) => {\r\n  return (\r\n    <Separator>\r\n      <DateLabel>{date}</DateLabel>\r\n    </Separator>\r\n  );\r\n};\r\n\r\nexport default DateSeparator;\r\n","import React, { userRef, useEffect } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport MessagesHeader from \"./MessagesHeader\";\r\nimport { connect } from \"react-redux\";\r\nimport DUMMY_MESSAGES from \"./DUMMY_MESSAGES\";\r\nimport Message from \"./Message\";\r\nimport DateSeparator from \"./DateSeparator\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"calc(100% - 60px)\",\r\n  overflow: \"auto\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n});\r\n\r\nconst convertDateToHumanReadable = (date, format) => {\r\n  const map = {\r\n    mm: date.getMonth() + 1,\r\n    dd: date.getDate(),\r\n    yy: date.getFullYear().toString().slice(-2),\r\n    yyyy: date.getFullYear(),\r\n  };\r\n\r\n  return format.replace(/mm|dd|yy|yyy/gi, (matched) => map[matched]);\r\n};\r\n\r\nconst Messages = ({ chosenChatDetails, messages }) => {\r\n  return (\r\n    <MainContainer>\r\n      <MessagesHeader name={chosenChatDetails?.name} />\r\n      {messages.map((message, index) => {\r\n        const sameAuthor =\r\n          index > 0 &&\r\n          messages[index].author._id === messages[index - 1].author._id;\r\n\r\n        const sameDay =\r\n          index > 0 &&\r\n          convertDateToHumanReadable(new Date(message.date), \"dd/mm/yy\") ===\r\n            convertDateToHumanReadable(\r\n              new Date(messages[index - 1].date),\r\n              \"dd/mm/yy\"\r\n            );\r\n\r\n        return (\r\n          <div key={message._id} style={{ width: \"97%\" }}>\r\n            {(!sameDay || index === 0) && (\r\n              <DateSeparator\r\n                date={convertDateToHumanReadable(\r\n                  new Date(message.date),\r\n                  \"dd/mm/yy\"\r\n                )}\r\n              />\r\n            )}\r\n            <Message\r\n              content={message.content}\r\n              username={message.author.username}\r\n              sameAuthor={sameAuthor}\r\n              date={convertDateToHumanReadable(\r\n                new Date(message.date),\r\n                \"dd/mm/yy\"\r\n              )}\r\n              sameDay={sameDay}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ chat }) => {\r\n  return {\r\n    ...chat,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(Messages);\r\n","import React, { useState } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport { connect } from \"react-redux\";\r\nimport { sendDirectMessage } from \"../../realtimeCommunication/socketConnection\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"60px\",\r\n  width: \"100%\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n});\r\n\r\nconst Input = styled(\"input\")({\r\n  backgroundColor: \"#2f3136\",\r\n  width: \"98%\",\r\n  height: \"44px\",\r\n  color: \"white\",\r\n  border: \"none\",\r\n  borderRadius: \"8px\",\r\n  fontSize: \"14px\",\r\n  padding: \"0 10px\",\r\n});\r\n\r\nconst NewMessageInput = ({ chosenChatDetails }) => {\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleMessageValueChange = (event) => {\r\n    setMessage(event.target.value);\r\n  };\r\n\r\n  const handleKeyPressed = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = () => {\r\n    if (message.length > 0) {\r\n      sendDirectMessage({\r\n        receiverUserId: chosenChatDetails.id,\r\n        content: message,\r\n      });\r\n      setMessage(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <Input\r\n        placeholder={`Write message to ${chosenChatDetails.name}`}\r\n        value={message}\r\n        onChange={handleMessageValueChange}\r\n        onKeyDown={handleKeyPressed}\r\n      />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ chat }) => {\r\n  return {\r\n    ...chat,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(NewMessageInput);\r\n","import React, { useEffect } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport Messages from \"./Messages/Messages\";\r\nimport NewMessageInput from \"./NewMessageInput\";\r\nimport { getDirectChatHistory } from \"../../realtimeCommunication/socketConnection\";\r\n\r\nconst Wrapper = styled(\"div\")({\r\n  flexGrow: 1,\r\n});\r\n\r\nconst MessengerContent = ({ chosenChatDetails }) => {\r\n  useEffect(() => {\r\n    getDirectChatHistory({\r\n      receiverUserId: chosenChatDetails.id,\r\n    });\r\n  }, [chosenChatDetails]);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Messages />\r\n      <NewMessageInput />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MessengerContent;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport { connect } from \"react-redux\";\r\nimport WelcomeMessage from \"./WelcomeMessage\";\r\nimport MessengerContent from \"./MessengerContent\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  flexGrow: 1,\r\n  backgroundColor: \"#1B1B1B\",\r\n  marginTop: \"48px\",\r\n  display: \"flex\",\r\n});\r\n\r\nconst Messenger = ({ chosenChatDetails }) => {\r\n  return (\r\n    <MainContainer>\r\n      {!chosenChatDetails ? (\r\n        <WelcomeMessage />\r\n      ) : (\r\n        <MessengerContent chosenChatDetails={chosenChatDetails} />\r\n      )}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ chat }) => {\r\n  return {\r\n    ...chat,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(Messenger);\r\n","import * as React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport { logout } from \"../../shared/utils/auth\";\r\nimport { getActions } from \"../../store/actions/roomActions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst BasicMenu = ({ audioOnly, setAudioOnly }) => {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleAudioOnlyChange = () => {\r\n    setAudioOnly(!audioOnly);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton onClick={handleMenuOpen} style={{ color: \"#FFFFFF\" }}>\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"basic-menu\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleMenuClose}\r\n        MenuListProps={{\r\n          \"aria-labelledby\": \"basic-button\",\r\n        }}\r\n      >\r\n        <MenuItem onClick={logout} style={{ color: \"#000000\" }}>\r\n          Logout\r\n        </MenuItem>\r\n        <MenuItem onClick={handleAudioOnlyChange} style={{ color: \"#000000\" }}>\r\n          {audioOnly ? \"Audio Only Enabled\" : \"Audio Only Disabled\"}\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(BasicMenu);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst ChosenOptionLabel = ({ name }) => {\r\n  return (\r\n    <Typography\r\n      sx={{ fontSize: \"16px\", color: \"white\", fontWeight: \"bold\" }}\r\n    >{`${name ? `Chosen conversation: ${name}` : \"\"}`}</Typography>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    name: state.chat.chosenChatDetails?.name,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(ChosenOptionLabel);\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport DropdownMenu from \"./DropdownMenu\";\r\nimport ChosenOptionLabel from \"./ChosenOptionLabel\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  position: \"absolute\",\r\n  right: \"0\",\r\n  top: \"0\",\r\n  height: \"48px\",\r\n  borderBottom: \"1px solid black\",\r\n  backgroundColor: \"#1B1B1B\",\r\n  width: \"calc(100% - 326px)\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"space-between\",\r\n  padding: \"0 15px\",\r\n});\r\n\r\nconst AppBar = () => {\r\n  return (\r\n    <MainContainer>\r\n      <ChosenOptionLabel />\r\n      <DropdownMenu />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default AppBar;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport CloseFullscreenIcon from \"@mui/icons-material/CloseFullscreen\";\r\nimport OpenInFullIcon from \"@mui/icons-material/OpenInFull\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  position: \"absolute\",\r\n  bottom: \"3px\",\r\n  right: \"3px\",\r\n});\r\n\r\nconst ResizeRoomButton = ({ isRoomMinimized, handleRoomResize }) => {\r\n  return (\r\n    <MainContainer>\r\n      <IconButton style={{ color: \"white\" }} onClick={handleRoomResize}>\r\n        {isRoomMinimized ? <OpenInFullIcon /> : <CloseFullscreenIcon />}\r\n      </IconButton>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default ResizeRoomButton;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"50%\",\r\n  width: \"50%\",\r\n  backgroundColor: \"black\",\r\n  borderRadius: \"8px\",\r\n});\r\n\r\nconst VideoEl = styled(\"video\")({\r\n  width: \"100%\",\r\n  height: \"100%\",\r\n});\r\n\r\nconst Video = ({ stream, isLocalStream }) => {\r\n  const videoRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    video.srcObject = stream;\r\n\r\n    video.onloadedmetadata = () => {\r\n      video.play();\r\n    };\r\n  }, [stream]);\r\n\r\n  return (\r\n    <MainContainer>\r\n      <VideoEl ref={videoRef} autoPlay muted={isLocalStream ? true : false} />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Video;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport { connect } from \"react-redux\";\r\nimport Video from \"./Video\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"85%\",\r\n  width: \"100%\",\r\n  display: \"flex\",\r\n  flexWrap: \"wrap\",\r\n});\r\n\r\nconst VideosContainer = ({\r\n  localStream,\r\n  remoteStreams,\r\n  screenSharingStream,\r\n}) => {\r\n  return (\r\n    <MainContainer>\r\n      <Video\r\n        stream={screenSharingStream ? screenSharingStream : localStream}\r\n        isLocalStream\r\n      />\r\n      {remoteStreams.map((stream) => (\r\n        <Video stream={stream} key={stream.id} />\r\n      ))}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(VideosContainer);\r\n","import React, { useState } from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport VideocamIcon from \"@mui/icons-material/Videocam\";\r\nimport VideocamOffIcon from \"@mui/icons-material/VideocamOff\";\r\n\r\nconst CameraButton = ({ localStream }) => {\r\n  const [cameraEnabled, setCameraEnabled] = useState(true);\r\n\r\n  const handleToggleCamera = () => {\r\n    localStream.getVideoTracks()[0].enabled = !cameraEnabled;\r\n    setCameraEnabled(!cameraEnabled);\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleToggleCamera} style={{ color: \"white\" }}>\r\n      {cameraEnabled ? <VideocamIcon /> : <VideocamOffIcon />}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default CameraButton;\r\n","import React, { useState } from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport MicIcon from \"@mui/icons-material/Mic\";\r\nimport MicOffIcon from \"@mui/icons-material/MicOff\";\r\n\r\nconst MicButton = ({ localStream }) => {\r\n  const [micEnabled, setMicEnabled] = useState(true);\r\n\r\n  const handleToggleMic = () => {\r\n    localStream.getAudioTracks()[0].enabled = !micEnabled;\r\n    setMicEnabled(!micEnabled);\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleToggleMic} style={{ color: \"white\" }}>\r\n      {micEnabled ? <MicIcon /> : <MicOffIcon />}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default MicButton;\r\n","import React from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport * as roomHandler from \"../../../realtimeCommunication/roomHandler\";\r\n\r\nconst CloseRoomButton = () => {\r\n  const handleLeaveRoom = () => {\r\n    roomHandler.leaveRoom();\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleLeaveRoom} style={{ color: \"white\" }}>\r\n      <CloseIcon />\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default CloseRoomButton;\r\n","import React, { useState } from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport ScreenShareIcon from \"@mui/icons-material/ScreenShare\";\r\nimport StopScreenShareIcon from \"@mui/icons-material/StopScreenShare\";\r\nimport * as webRTCHandler from \"../../../realtimeCommunication/webRTCHandler\";\r\n\r\nconst constraints = {\r\n  audio: false,\r\n  video: true,\r\n};\r\n\r\nconst ScreenShareButton = ({\r\n  localStream,\r\n  screenSharingStream,\r\n  setScreenSharingStream,\r\n  isScreenSharingActive,\r\n}) => {\r\n  const handleScreenShareToggle = async () => {\r\n    if (!isScreenSharingActive) {\r\n      let stream = null;\r\n      try {\r\n        stream = await navigator.mediaDevices.getDisplayMedia(constraints);\r\n      } catch (err) {\r\n        console.log(\r\n          \"error occured when trying to get an access to screen share stream\"\r\n        );\r\n      }\r\n\r\n      if (stream) {\r\n        setScreenSharingStream(stream);\r\n        webRTCHandler.switchOutgoingTracks(stream);\r\n      }\r\n    } else {\r\n      webRTCHandler.switchOutgoingTracks(localStream);\r\n      screenSharingStream.getTracks().forEach((t) => t.stop());\r\n      setScreenSharingStream(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleScreenShareToggle} style={{ color: \"white\" }}>\r\n      {isScreenSharingActive ? <StopScreenShareIcon /> : <ScreenShareIcon />}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default ScreenShareButton;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport CameraButton from \"./CameraButton\";\r\nimport MicButton from \"./MicButton\";\r\nimport CloseRoomButton from \"./CloseRoomButton\";\r\nimport ScreenShareButton from \"./ScreenShareButton\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../../store/actions/roomActions\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"15%\",\r\n  width: \"100%\",\r\n  backgroundColor: \"#67063c\",\r\n  borderTopLeftRadius: \"8px\",\r\n  borderTopRightRadius: \"8px\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n});\r\n\r\nconst RoomButtons = (props) => {\r\n  const { localStream, isUserJoinedWithOnlyAudio } = props;\r\n\r\n  return (\r\n    <MainContainer>\r\n      {!isUserJoinedWithOnlyAudio && <ScreenShareButton {...props} />}\r\n      <MicButton localStream={localStream} />\r\n      <CloseRoomButton />\r\n      {!isUserJoinedWithOnlyAudio && <CameraButton localStream={localStream} />}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(RoomButtons);\r\n","import React, { useState } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport ResizeRoomButton from \"./ResizeRoomButton\";\r\nimport VideosContainer from \"./VideosContainer\";\r\nimport RoomButtons from \"./RoomButtons/RoomButtons\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  position: \"absolute\",\r\n  borderRadius: \"8px\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  backgroundColor: \"#141414\",\r\n});\r\n\r\nconst fullScreenRoomStyle = {\r\n  width: \"100%\",\r\n  height: \"100vh\",\r\n};\r\n\r\nconst minimizedRoomStyle = {\r\n  bottom: \"0px\",\r\n  right: \"0px\",\r\n  width: \"30%\",\r\n  height: \"40vh\",\r\n};\r\n\r\nconst Room = () => {\r\n  const [isRoomMinimized, setIsRoomMinimized] = useState(true);\r\n\r\n  const roomResizeHandler = () => {\r\n    setIsRoomMinimized(!isRoomMinimized);\r\n  };\r\n\r\n  return (\r\n    <MainContainer\r\n      style={isRoomMinimized ? minimizedRoomStyle : fullScreenRoomStyle}\r\n    >\r\n      <VideosContainer />\r\n      <RoomButtons />\r\n      <ResizeRoomButton\r\n        isRoomMinimized={isRoomMinimized}\r\n        handleRoomResize={roomResizeHandler}\r\n      />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","import React, { useEffect } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport SideBar from \"./SideBar/SideBar\";\r\nimport FriendsSideBar from \"./FriendsSideBar/FriendsSideBar\";\r\nimport Messenger from \"./Messenger/Messenger\";\r\nimport AppBar from \"./AppBar/AppBar\";\r\nimport { logout } from \"../shared/utils/auth\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../store/actions/authActions\";\r\nimport { connectWithSocketServer } from \"../realtimeCommunication/socketConnection\";\r\nimport Room from \"./Room/Room\";\r\n\r\nconst Wrapper = styled(\"div\")({\r\n  width: \"100%\",\r\n  height: \"100vh\",\r\n  display: \"flex\",\r\n});\r\n\r\nconst Dashboard = ({ setUserDetails, isUserInRoom }) => {\r\n  useEffect(() => {\r\n    const userDetails = localStorage.getItem(\"user\");\r\n\r\n    if (!userDetails) {\r\n      logout();\r\n    } else {\r\n      setUserDetails(JSON.parse(userDetails));\r\n      connectWithSocketServer(JSON.parse(userDetails));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <SideBar />\r\n      <FriendsSideBar />\r\n      <Messenger />\r\n      <AppBar />\r\n      {isUserInRoom && <Room />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(Dashboard);\r\n","import React from \"react\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/alertActions\";\r\n\r\nconst AlertNotification = ({\r\n  showAlertMessage, // Comming from alertReducer\r\n  closeAlertMessage, // Comming from alertActions\r\n  alertMessageContent, // Comming from alertReducer\r\n}) => {\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n      open={showAlertMessage}\r\n      onClose={closeAlertMessage}\r\n      autoHideDuration={6000}\r\n    >\r\n      <Alert severity=\"info\">{alertMessageContent}</Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ alert }) => {\r\n  return {\r\n    ...alert,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStoreStateToProps,\r\n  mapActionsToProps\r\n)(AlertNotification);\r\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport LoginPage from \"./authPages/LoginPage/LoginPage\";\nimport RegisterPage from \"./authPages/RegisterPage/RegisterPage\";\nimport Dashboard from \"./Dashboard/Dashboard\";\nimport AlertNotification from \"./shared/components/AlertNotification\";\n\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route exact path=\"/login\">\n            <LoginPage />\n          </Route>\n          <Route exact path=\"/register\">\n            <RegisterPage />\n          </Route>\n          <Route exact path=\"/dashboard\">\n            <Dashboard />\n          </Route>\n          <Route path=\"/\">\n            <Redirect to=\"/dashboard\" />\n          </Route>\n        </Switch>\n      </Router>\n      <AlertNotification />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]}}